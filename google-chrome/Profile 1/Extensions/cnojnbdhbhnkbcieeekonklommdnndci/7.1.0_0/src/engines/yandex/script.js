(()=>{"use strict";var e,t={6876:(e,t,r)=>{var a=r(9711),i=r(1128),n=r(8618),o=r(5944);const s="yandex";function c(){return(0,o.K5)(["yandex.com","yandex.ru","yandex.ua","yandex.by","yandex.kz","yandex.uz","yandex.com.tr"],s)}function u(e){if(413===e.status)return void largeImageNotify(s,"8");const t=JSON.parse(e.responseText).blocks[0].params.url,r=`https://${c()}/images/search?${t}`;(0,i.wv)(r)&&window.location.replace(r)}(0,n.Jh)("search")&&((0,n.wv)(),window.location.pathname.startsWith("/showcaptcha")||(0,o.d9)((async function({session:e,search:t,image:r,storageIds:l}){const p=document.head.querySelector('meta[name="apple-mobile-web-app-capable"]');if(r=await(0,o.j1)({image:r,engine:s,target:p?"api":"ui"}),p){const e=`https://${c()}/images/touch/search?rpt=imageview&format=json&request={"blocks":[{"block":"cbir-uploader__get-cbir-id"}]}`,t=new FormData;t.append("upfile",r.imageBlob);const a=(0,i.iV)();a.addEventListener("load",(function(){(0,o.JG)(l),(0,o.XU)(this,u,s)})),a.open("POST",e),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),a.send(t)}else{localStorage.setItem("cbir:uploader_onboarded",`{"count":1,"last":${Date.now()}}`);const{selector:e,node:t,layout:i}=await Promise.race([new Promise(((e,t)=>{const r="input.cbir-panel__file-input";(0,n.cy)(r).then((t=>e({selector:r,node:t,layout:"old"}))).catch((e=>t(e)))})),new Promise(((e,t)=>{const r="input.CbirCore-FileInput";(0,n.cy)(r).then((t=>e({selector:r,node:t,layout:"new"}))).catch((e=>t(e)))}))]);"new"===i&&await new Promise(((e,t)=>{const r=(0,a.A)(),i=function(){window.clearTimeout(o),e()},o=window.setTimeout((function(){document.removeEventListener(r,i,{capture:!0,once:!0}),t(new Error("Search service is not ready"))}),6e4);document.addEventListener(r,i,{capture:!0,once:!0}),(0,n.Hn)({func:"yandexServiceObserver",args:[r]})})),(await Promise.race([(0,n.cy)(".input_js_inited .input__cbir-button button",{observerOptions:{attributes:!0,attributeFilter:["class"]}}),(0,n.cy)(".input_js_inited button.input__cbir-button",{observerOptions:{attributes:!0,attributeFilter:["class"]}})])).click(),await Promise.race([(0,n.cy)("div.cbir-panel_visibility_visible",{observerOptions:{attributes:!0,attributeFilter:["class"]}}),(0,n.cy)("div.CbirPanel-Popup.Popup2_visible",{observerOptions:{attributes:!0,attributeFilter:["class"]}})]),await(0,o.pR)(e,t,r),await(0,o.JG)(l),t.dispatchEvent(new Event("change",{bubbles:!0}))}}),s,taskId))}},r={};function a(e){var i=r[e];if(void 0!==i)return i.exports;var n=r[e]={exports:{}};return t[e].call(n.exports,n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,r,i,n)=>{if(!r){var o=1/0;for(l=0;l<e.length;l++){for(var[r,i,n]=e[l],s=!0,c=0;c<r.length;c++)(!1&n||o>=n)&&Object.keys(a.O).every((e=>a.O[e](r[c])))?r.splice(c--,1):(s=!1,n<o&&(o=n));if(s){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[r,i,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.j=5656,(()=>{var e={5656:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var i,n,[o,s,c]=r,u=0;if(o.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var l=c(a)}for(t&&t(r);u<o.length;u++)n=o[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(l)},r=globalThis.webpackChunksearch_by_image=globalThis.webpackChunksearch_by_image||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=a.O(void 0,[3662],(()=>a(6876)));i=a.O(i)})();