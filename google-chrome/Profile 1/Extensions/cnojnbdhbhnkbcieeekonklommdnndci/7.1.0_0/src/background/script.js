/*! For license information please see script.js.LICENSE.txt */
(()=>{var e,t,n={3901:e=>{"use strict";const{AbortController:t,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=n,e.exports.default=t},7961:(e,t)=>{"use strict";t.byteLength=function(e){var t=o(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=o(e),s=a[0],c=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),u=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],s=16383,o=0,l=r-i;o<l;o+=s)a.push(c(e,o,o+s>l?l:o+s));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,a,s=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9922:(e,t,n)=>{"use strict";const r=n(7961),i=n(1024),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let r=o(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return g(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return g(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),o(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function g(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let a,s=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(a=n;a<o;a++)if(l(e,a)===l(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===c)return r*s}else-1!==r&&(a-=a-r),r=-1}else for(n+c>o&&(n=o-c),a=n;a>=0;a--){let n=!0;for(let r=0;r<c;r++)if(l(e,a+r)!==l(t,r)){n=!1;break}if(n)return a}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const a=t.length;let s;for(r>a/2&&(r=a/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(X(r))return s;e[n+s]=r}return s}function x(e,t,n,r){return K(H(t,e.length-n),e,n,r)}function _(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return K(G(t),e,n,r)}function E(e,t,n,r){return K(function(e,t){let n,r,i;const a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,o,c;switch(s){case 1:t<128&&(a=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(a=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&o)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const o=Math.min(a,s),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<o;++e)if(l[e]!==u[e]){a=l[e],s=u[e];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function L(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r,i){W(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function P(e,t,n,r,i){W(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function N(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,a){return t=+t,n>>>=0,a||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,a){return t=+t,n>>>=0,a||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=t,i=1,a=this[e+--r];for(;r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const a=c.isBuffer(e)?e:c.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};const B={};function F(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function W(e,t,n,r,i,a){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(a+1)}${r}`:`>= -(2${r} ** ${8*(a+1)-1}${r}) and < 2 ** ${8*(a+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,a)}function z(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=$(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const a=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},4143:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var c,l,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,g=u.length;for(l=0;l<g;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var c=0,l=[],u=o.length;c<u;c++)(o[c].fn!==t||i&&!o[c].once||r&&o[c].context!==r)&&l.push(o[c]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},9032:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}h(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&h(e,"error",t,{once:!0})}(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,a,s,l;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1024:(e,t)=>{t.read=function(e,t,n,r,i){var a,s,o=8*i-r-1,c=(1<<o)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,g=e[t+d];for(d+=f,a=g&(1<<-u)-1,g>>=-u,u+=o;u>0;a=256*a+e[t+d],d+=f,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===a)a=1-l;else{if(a===c)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,r),a-=l}return(g?-1:1)*s*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var s,o,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:a-1,p=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(t*c-1)*Math.pow(2,i),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+g]=255&o,g+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[n+g]=255&s,g+=p,s/=256,l-=8);e[n+g-p]|=128*h}},1385:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var o,c=[],l=!1,u=-1;function d(){l&&o&&(l=!1,o.length?c=o.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(o=c,c=[];++u<t;)o&&o[u].run();u=-1,t=c.length}o=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||l||s(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},764:(e,t,n)=>{"use strict";const{SymbolDispose:r}=n(2615),{AbortError:i,codes:a}=n(1876),{isNodeStream:s,isWebStream:o,kControllerErrorFunction:c}=n(5682),l=n(1327),{ERR_INVALID_ARG_TYPE:u}=a;let d;e.exports.addAbortSignal=function(t,n){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u("signal","AbortSignal",e)})(t),!s(n)&&!o(n))throw new u("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const a=s(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)a();else{d=d||n(8723).addAbortListener;const i=d(e,a);l(t,i[r])}return t}},1400:(e,t,n)=>{"use strict";const{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:a,Uint8Array:s}=n(2615),{Buffer:o}=n(9922),{inspect:c}=n(8723);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return o.alloc(0);const t=o.allocUnsafe(e>>>0);let n=this.head,r=0;for(;n;)a(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(t+=a,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(a,0,e),this.head=n,n.data=r(a,e));break}t+=a,e-=a.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){const t=o.allocUnsafe(e),n=e;let r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(a(t,o,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(a(t,new s(o.buffer,o.byteOffset,e),n-e),this.head=r,r.data=o.slice(e));break}a(t,o,n-e),e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},2151:(e,t,n)=>{"use strict";const{pipeline:r}=n(4525),i=n(2369),{destroyer:a}=n(4449),{isNodeStream:s,isReadable:o,isWritable:c,isWebStream:l,isTransformStream:u,isWritableStream:d,isReadableStream:f}=n(5682),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:h}}=n(1876),m=n(1327);e.exports=function(...e){if(0===e.length)throw new h("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let n=0;n<e.length;++n)if(s(e[n])||l(e[n])){if(n<e.length-1&&!(o(e[n])||f(e[n])||u(e[n])))throw new p(`streams[${n}]`,t[n],"must be readable");if(n>0&&!(c(e[n])||d(e[n])||u(e[n])))throw new p(`streams[${n}]`,t[n],"must be writable")}let n,b,y,w,v;const x=e[0],_=r(e,(function(e){const t=w;w=null,t?t(e):e?v.destroy(e):E||A||v.destroy()})),A=!!(c(x)||d(x)||u(x)),E=!!(o(_)||f(_)||u(_));if(v=new i({writableObjectMode:!(null==x||!x.writableObjectMode),readableObjectMode:!(null==_||!_.readableObjectMode),writable:A,readable:E}),A){if(s(x))v._write=function(e,t,r){x.write(e,t)?r():n=r},v._final=function(e){x.end(),b=e},x.on("drain",(function(){if(n){const e=n;n=null,e()}}));else if(l(x)){const e=(u(x)?x.writable:x).getWriter();v._write=async function(t,n,r){try{await e.ready,e.write(t).catch((()=>{})),r()}catch(e){r(e)}},v._final=async function(t){try{await e.ready,e.close().catch((()=>{})),b=t}catch(e){t(e)}}}const e=u(_)?_.readable:_;m(e,(()=>{if(b){const e=b;b=null,e()}}))}if(E)if(s(_))_.on("readable",(function(){if(y){const e=y;y=null,e()}})),_.on("end",(function(){v.push(null)})),v._read=function(){for(;;){const e=_.read();if(null===e)return void(y=v._read);if(!v.push(e))return}};else if(l(_)){const e=(u(_)?_.readable:_).getReader();v._read=async function(){for(;;)try{const{value:t,done:n}=await e.read();if(!v.push(t))return;if(n)return void v.push(null)}catch{return}}}return v._destroy=function(e,t){e||null===w||(e=new g),y=null,n=null,b=null,null===w?t(e):(w=t,s(_)&&a(_,e))},v}},4449:(e,t,n)=>{"use strict";const r=n(1385),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:s}=n(1876),{Symbol:o}=n(2615),{kIsDestroyed:c,isDestroyed:l,isFinished:u,isServerRequest:d}=n(5682),f=o("kDestroy"),g=o("kConstruct");function p(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function h(e,t,n){let i=!1;function a(t){if(i)return;i=!0;const a=e._readableState,s=e._writableState;p(t,s,a),s&&(s.closed=!0),a&&(a.closed=!0),"function"==typeof n&&n(t),t?r.nextTick(m,e,t):r.nextTick(b,e)}try{e._destroy(t||null,a)}catch(t){a(t)}}function m(e,t){y(e,t),b(e)}function b(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=n&&n.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function y(e,t){const n=e._readableState,r=e._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function w(e,t,n){const i=e._readableState,a=e._writableState;if(null!=a&&a.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=a&&a.autoDestroy?e.destroy(t):t&&(t.stack,a&&!a.errored&&(a.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(y,e,t):y(e,t))}function v(e){let t=!1;function n(n){if(t)return void w(e,null!=n?n:new a);t=!0;const i=e._readableState,s=e._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?e.emit(f,n):n?w(e,n,!0):r.nextTick(x,e)}try{e._construct((e=>{r.nextTick(n,e)}))}catch(e){r.nextTick(n,e)}}function x(e){e.emit(g)}function _(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function A(e){e.emit("close")}function E(e,t){e.emit("error",t),r.nextTick(A,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(g,t),e.listenerCount(g)>1||r.nextTick(v,e)},destroyer:function(e,t){e&&!l(e)&&(t||u(e)||(t=new s),d(e)?(e.socket=null,e.destroy(t)):_(e)?e.abort():_(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(E,e,t):r.nextTick(A,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const n=this._readableState,r=this._writableState,a=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof t&&t(),this):(p(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),a.constructed?h(this,e,t):this.once(f,(function(n){h(this,i(n,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},2369:(e,t,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:a,ObjectSetPrototypeOf:s}=n(2615);e.exports=l;const o=n(4471),c=n(3595);s(l.prototype,o.prototype),s(l,o);{const e=a(c.prototype);for(let t=0;t<e.length;t++){const n=e[t];l.prototype[n]||(l.prototype[n]=c.prototype[n])}}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,d;function f(){return void 0===u&&(u={}),u}r(l.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),l.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},l.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},l.from=function(e){return d||(d=n(5655)),d(e,"body")}},5655:(e,t,n)=>{const r=n(1385),i=n(9922),{isReadable:a,isWritable:s,isIterable:o,isNodeStream:c,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:f,isWritableStream:g}=n(5682),p=n(1327),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:b}}=n(1876),{destroyer:y}=n(4449),w=n(2369),v=n(4471),x=n(3595),{createDeferredPromise:_}=n(8723),A=n(9203),E=globalThis.Blob||i.Blob,S=void 0!==E?function(e){return e instanceof E}:function(e){return!1},I=globalThis.AbortController||n(3901).AbortController,{FunctionPrototypeCall:k}=n(2615);class T extends w{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function R(e){const t=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,n=e.writable;let r,i,o,c,l,u=!!a(t),d=!!s(n);function f(e){const t=c;c=null,t?t(e):e&&l.destroy(e)}return l=new T({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:u,writable:d}),d&&(p(n,(e=>{d=!1,e&&y(t,e),f(e)})),l._write=function(e,t,i){n.write(e,t)?i():r=i},l._final=function(e){n.end(),i=e},n.on("drain",(function(){if(r){const e=r;r=null,e()}})),n.on("finish",(function(){if(i){const e=i;i=null,e()}}))),u&&(p(t,(e=>{u=!1,e&&y(t,e),f(e)})),t.on("readable",(function(){if(o){const e=o;o=null,e()}})),t.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const e=t.read();if(null===e)return void(o=l._read);if(!l.push(e))return}}),l._destroy=function(e,a){e||null===c||(e=new h),o=null,r=null,i=null,null===c?a(e):(c=a,y(n,e),y(t,e))},l}e.exports=function e(t,n){if(d(t))return t;if(l(t))return R({readable:t});if(u(t))return R({writable:t});if(c(t))return R({writable:!1,readable:!1});if(f(t))return R({readable:v.fromWeb(t)});if(g(t))return R({writable:x.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:a,destroy:s}=function(e){let{promise:t,resolve:n}=_();const i=new I,a=i.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:s,cb:o}=await e;if(r.nextTick(o),s)return;if(a.aborted)throw new h(void 0,{cause:a.reason});({promise:t,resolve:n}=_()),yield i}}(),{signal:a}),write(e,t,r){const i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(o(e))return A(T,e,{objectMode:!0,write:i,final:a,destroy:s});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const n=k(c,e,(e=>{if(null!=e)throw new b("nully","body",e)}),(e=>{y(t,e)}));return t=new T({objectMode:!0,readable:!1,write:i,final(e){a((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:s})}throw new b("Iterable, AsyncIterable or AsyncFunction",n,e)}if(S(t))return e(t.arrayBuffer());if(o(t))return A(T,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&g(null==t?void 0:t.writable))return T.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return R({readable:null!=t&&t.readable?l(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const i=null==t?void 0:t.then;if("function"==typeof i){let e;return k(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{y(e,t)})),e=new T({objectMode:!0,writable:!1,read(){}})}throw new m(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},1327:(e,t,n)=>{const r=n(1385),{AbortError:i,codes:a}=n(1876),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=a,{kEmptyObject:c,once:l}=n(8723),{validateAbortSignal:u,validateFunction:d,validateObject:f,validateBoolean:g}=n(7570),{Promise:p,PromisePrototypeThen:h,SymbolDispose:m}=n(2615),{isClosed:b,isReadable:y,isReadableNodeStream:w,isReadableStream:v,isReadableFinished:x,isReadableErrored:_,isWritable:A,isWritableNodeStream:E,isWritableStream:S,isWritableFinished:I,isWritableErrored:k,isNodeStream:T,willEmitClose:R,kIsClosedPromise:j}=n(5682);let L;const M=()=>{};function O(e,t,a){var g,p;if(2===arguments.length?(a=t,t=c):null==t?t=c:f(t,"options"),d(a,"callback"),u(t.signal,"options.signal"),a=l(a),v(e)||S(e))return function(e,t,a){let s=!1,o=M;if(t.signal)if(o=()=>{s=!0,a.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(o);else{L=L||n(8723).addAbortListener;const r=L(t.signal,o),i=a;a=l(((...t)=>{r[m](),i.apply(e,t)}))}const c=(...t)=>{s||r.nextTick((()=>a.apply(e,t)))};return h(e[j].promise,c,c),M}(e,t,a);if(!T(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);const O=null!==(g=t.readable)&&void 0!==g?g:w(e),C=null!==(p=t.writable)&&void 0!==p?p:E(e),P=e._writableState,N=e._readableState,D=()=>{e.writable||F()};let U=R(e)&&w(e)===O&&E(e)===C,B=I(e,!1);const F=()=>{B=!0,e.destroyed&&(U=!1),(!U||e.readable&&!O)&&(O&&!$||a.call(e))};let $=x(e,!1);const W=()=>{$=!0,e.destroyed&&(U=!1),(!U||e.writable&&!C)&&(C&&!B||a.call(e))},z=t=>{a.call(e,t)};let q=b(e);const V=()=>{q=!0;const t=k(e)||_(e);return t&&"boolean"!=typeof t?a.call(e,t):O&&!$&&w(e,!0)&&!x(e,!1)?a.call(e,new o):!C||B||I(e,!1)?void a.call(e):a.call(e,new o)},H=()=>{q=!0;const t=k(e)||_(e);if(t&&"boolean"!=typeof t)return a.call(e,t);a.call(e)},G=()=>{e.req.on("finish",F)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?C&&!P&&(e.on("end",D),e.on("close",D)):(e.on("complete",F),U||e.on("abort",V),e.req?G():e.on("request",G)),U||"boolean"!=typeof e.aborted||e.on("aborted",V),e.on("end",W),e.on("finish",F),!1!==t.error&&e.on("error",z),e.on("close",V),q?r.nextTick(V):null!=P&&P.errorEmitted||null!=N&&N.errorEmitted?U||r.nextTick(H):(O||U&&!y(e)||!B&&!1!==A(e))&&(C||U&&!A(e)||!$&&!1!==y(e))?N&&e.req&&e.aborted&&r.nextTick(H):r.nextTick(H);const K=()=>{a=M,e.removeListener("aborted",V),e.removeListener("complete",F),e.removeListener("abort",V),e.removeListener("request",G),e.req&&e.req.removeListener("finish",F),e.removeListener("end",D),e.removeListener("close",D),e.removeListener("finish",F),e.removeListener("end",W),e.removeListener("error",z),e.removeListener("close",V)};if(t.signal&&!q){const s=()=>{const n=a;K(),n.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(s);else{L=L||n(8723).addAbortListener;const r=L(t.signal,s),i=a;a=l(((...t)=>{r[m](),i.apply(e,t)}))}}return K}e.exports=O,e.exports.finished=function(e,t){var n;let r=!1;return null===t&&(t=c),null!==(n=t)&&void 0!==n&&n.cleanup&&(g(t.cleanup,"cleanup"),r=t.cleanup),new p(((n,i)=>{const a=O(e,t,(e=>{r&&a(),e?i(e):n()}))}))}},9203:(e,t,n)=>{"use strict";const r=n(1385),{PromisePrototypeThen:i,SymbolAsyncIterator:a,SymbolIterator:s}=n(2615),{Buffer:o}=n(9922),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:l}=n(1876).codes;e.exports=function(e,t,n){let u,d;if("string"==typeof t||t instanceof o)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[a])d=!0,u=t[a]();else{if(!t||!t[s])throw new c("iterable",["Iterable"],t);d=!1,u=t[s]()}const f=new e({objectMode:!0,highWaterMark:1,...n});let g=!1;return f._read=function(){g||(g=!0,async function(){for(;;){try{const{value:e,done:t}=d?await u.next():u.next();if(t)f.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw g=!1,new l;if(f.push(t))continue;g=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=null!=e,n="function"==typeof u.throw;if(t&&n){const{value:t,done:n}=await u.throw(e);if(await t,n)return}if("function"==typeof u.return){const{value:e}=await u.return();await e}}(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},f}},2403:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(2615),{EventEmitter:a}=n(9032);function s(e){a.call(this,e)}function o(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(s.prototype,a.prototype),i(s,a),s.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",c),n.on("close",l));let s=!1;function c(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){d(),0===a.listenerCount(this,"error")&&this.emit("error",e)}function d(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",c),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return o(n,"error",u),o(e,"error",u),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e},e.exports={Stream:s,prependListener:o}},5862:(e,t,n)=>{"use strict";const r=globalThis.AbortController||n(3901).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:c}=n(1876),{validateAbortSignal:l,validateInteger:u,validateObject:d}=n(7570),f=n(2615).Symbol("kWeak"),g=n(2615).Symbol("kResistStopPropagation"),{finished:p}=n(1327),h=n(2151),{addAbortSignalNoValidate:m}=n(764),{isWritable:b,isNodeStream:y}=n(5682),{deprecate:w}=n(8723),{ArrayPrototypePush:v,Boolean:x,MathFloor:_,Number:A,NumberIsNaN:E,Promise:S,PromiseReject:I,PromiseResolve:k,PromisePrototypeThen:T,Symbol:R}=n(2615),j=R("kEmpty"),L=R("kEof");function M(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");let r=1;null!=(null==t?void 0:t.concurrency)&&(r=_(t.concurrency));let i=r-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=_(t.highWaterMark)),u(r,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=r,async function*(){const a=n(8723).AbortSignalAny([null==t?void 0:t.signal].filter(x)),s=this,o=[],l={signal:a};let u,d,f=!1,g=0;function p(){f=!0,h()}function h(){g-=1,m()}function m(){d&&!f&&g<r&&o.length<i&&(d(),d=null)}!async function(){try{for await(let t of s){if(f)return;if(a.aborted)throw new c;try{if(t=e(t,l),t===j)continue;t=k(t)}catch(e){t=I(e)}g+=1,T(t,h,p),o.push(t),u&&(u(),u=null),!f&&(o.length>=i||g>=r)&&await new S((e=>{d=e}))}o.push(L)}catch(e){const t=I(e);T(t,h,p),o.push(t)}finally{f=!0,u&&(u(),u=null)}}();try{for(;;){for(;o.length>0;){const e=await o[0];if(e===L)return;if(a.aborted)throw new c;e!==j&&(yield e),o.shift(),m()}await new S((e=>{u=e}))}}finally{f=!0,d&&(d(),d=null)}}.call(this)}async function O(e,t=void 0){for await(const n of C.call(this,e,t))return!0;return!1}function C(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);return M.call(this,(async function(t,n){return await e(t,n)?t:j}),t)}class P extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function N(e){if(e=A(e),E(e))return 0;if(e<0)throw new o("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:w((function(e=void 0){return null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c({cause:e.signal.reason});yield[t++,r]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=N(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;e--<=0&&(yield n)}}.call(this)},filter:C,flatMap:function(e,t){const n=M.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)},map:M,take:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=N(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;if(e-- >0&&(yield n),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),y(e)&&!b(e))throw new i("stream",e,"must be writable");const n=h(this,e);return null!=t&&t.signal&&m(t.signal,n),n}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);return!await O.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);for await(const n of M.call(this,(async function(t,n){return await e(t,n),j}),t));},reduce:async function(e,t,n){var i;if("function"!=typeof e)throw new a("reducer",["Function","AsyncFunction"],e);null!=n&&d(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let s=arguments.length>1;if(null!=n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){const e=new c(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await p(this.destroy(e)),e}const o=new r,u=o.signal;if(null!=n&&n.signal){const e={once:!0,[f]:this,[g]:!0};n.signal.addEventListener("abort",(()=>o.abort()),e)}let h=!1;try{for await(const r of this){var m;if(h=!0,null!=n&&null!==(m=n.signal)&&void 0!==m&&m.aborted)throw new c;s?t=await e(t,r,{signal:u}):(t=r,s=!0)}if(!h&&!s)throw new P}finally{o.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c(void 0,{cause:e.signal.reason});v(t,r)}return t},some:O,find:async function(e,t){for await(const n of C.call(this,e,t))return n}}},8469:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(2615);e.exports=a;const i=n(4743);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}r(a.prototype,i.prototype),r(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},4525:(e,t,n)=>{const r=n(1385),{ArrayIsArray:i,Promise:a,SymbolAsyncIterator:s,SymbolDispose:o}=n(2615),c=n(1327),{once:l}=n(8723),u=n(4449),d=n(2369),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:y}=n(1876),{validateFunction:w,validateAbortSignal:v}=n(7570),{isIterable:x,isReadable:_,isReadableNodeStream:A,isNodeStream:E,isTransformStream:S,isWebStream:I,isReadableStream:k,isReadableFinished:T}=n(5682),R=globalThis.AbortController||n(3901).AbortController;let j,L,M;function O(e,t,n){let r=!1;return e.on("close",(()=>{r=!0})),{destroy:t=>{r||(r=!0,u.destroyer(e,t||new m("pipe")))},cleanup:c(e,{readable:t,writable:n},(e=>{r=!e}))}}function C(e){if(x(e))return e;if(A(e))return async function*(e){L||(L=n(4471)),yield*L.prototype[s].call(e)}(e);throw new g("val",["Readable","Iterable","AsyncIterable"],e)}async function P(e,t,n,{end:r}){let i,s=null;const o=e=>{if(e&&(i=e),s){const e=s;s=null,e()}},l=()=>new a(((e,t)=>{i?t(i):s=()=>{i?t(i):e()}}));t.on("drain",o);const u=c(t,{readable:!1},o);try{t.writableNeedDrain&&await l();for await(const n of e)t.write(n)||await l();r&&(t.end(),await l()),n()}catch(e){n(i!==e?f(i,e):e)}finally{u(),t.off("drain",o)}}async function N(e,t,n,{end:r}){S(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch((()=>{}));await i.ready,r&&await i.close(),n()}catch(e){try{await i.abort(e),n(e)}catch(e){n(e)}}}function D(e,t,a){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new h("streams");const s=new R,c=s.signal,l=null==a?void 0:a.signal,u=[];function f(){F(new y)}let m,b,w;v(l,"options.signal"),M=M||n(8723).addAbortListener,l&&(m=M(l,f));const T=[];let L,D=0;function B(e){F(e,0==--D)}function F(e,n){var i;if(!e||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=e),b||n){for(;T.length;)T.shift()(b);null===(i=m)||void 0===i||i[o](),s.abort(),n&&(b||u.forEach((e=>e())),r.nextTick(t,b,w))}}for(let q=0;q<e.length;q++){const V=e[q],H=q<e.length-1,G=q>0,K=H||!1!==(null==a?void 0:a.end),Y=q===e.length-1;if(E(V)){if(K){const{destroy:X,cleanup:J}=O(V,H,G);T.push(X),_(V)&&Y&&u.push(J)}function $(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&B(e)}V.on("error",$),_(V)&&Y&&u.push((()=>{V.removeListener("error",$)}))}if(0===q)if("function"==typeof V){if(L=V({signal:c}),!x(L))throw new p("Iterable, AsyncIterable or Stream","source",L)}else L=x(V)||A(V)||S(V)?V:d.from(V);else if("function"==typeof V){var W;if(L=S(L)?C(null===(W=L)||void 0===W?void 0:W.readable):C(L),L=V(L,{signal:c}),H){if(!x(L,!0))throw new p("AsyncIterable",`transform[${q-1}]`,L)}else{var z;j||(j=n(8469));const Q=new j({objectMode:!0}),Z=null===(z=L)||void 0===z?void 0:z.then;if("function"==typeof Z)D++,Z.call(L,(e=>{w=e,null!=e&&Q.write(e),K&&Q.end(),r.nextTick(B)}),(e=>{Q.destroy(e),r.nextTick(B,e)}));else if(x(L,!0))D++,P(L,Q,B,{end:K});else{if(!k(L)&&!S(L))throw new p("AsyncIterable or Promise","destination",L);{const ne=L.readable||L;D++,P(ne,Q,B,{end:K})}}L=Q;const{destroy:ee,cleanup:te}=O(L,!1,!0);T.push(ee),Y&&u.push(te)}}else if(E(V)){if(A(L)){D+=2;const re=U(L,V,B,{end:K});_(V)&&Y&&u.push(re)}else if(S(L)||k(L)){const ie=L.readable||L;D++,P(ie,V,B,{end:K})}else{if(!x(L))throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],L);D++,P(L,V,B,{end:K})}L=V}else if(I(V)){if(A(L))D++,N(C(L),V,B,{end:K});else if(k(L)||x(L))D++,N(L,V,B,{end:K});else{if(!S(L))throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],L);D++,N(L.readable,V,B,{end:K})}L=V}else L=d.from(V)}return(null!=c&&c.aborted||null!=l&&l.aborted)&&r.nextTick(f),L}function U(e,t,n,{end:i}){let a=!1;if(t.on("close",(()=>{a||n(new b)})),e.pipe(t,{end:!1}),i){function s(){a=!0,t.end()}T(e)?r.nextTick(s):e.once("end",s)}else n();return c(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),c(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:D,pipeline:function(...e){return D(e,l(function(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},4471:(e,t,n)=>{const r=n(1385),{ArrayPrototypeIndexOf:i,NumberIsInteger:a,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:c,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:d,SafeSet:f,SymbolAsyncDispose:g,SymbolAsyncIterator:p,Symbol:h}=n(2615);e.exports=Y,Y.ReadableState=K;const{EventEmitter:m}=n(9032),{Stream:b,prependListener:y}=n(2403),{Buffer:w}=n(9922),{addAbortSignal:v}=n(764),x=n(1327);let _=n(8723).debuglog("stream",(e=>{_=e}));const A=n(1400),E=n(4449),{getHighWaterMark:S,getDefaultHighWaterMark:I}=n(1482),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:L,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:O}=n(1876),{validateObject:C}=n(7570),P=h("kPaused"),{StringDecoder:N}=n(8698),D=n(9203);u(Y.prototype,b.prototype),u(Y,b);const U=()=>{},{errorOrDestroy:B}=E,F=1,$=16,W=32,z=64,q=2048,V=4096,H=65536;function G(e){return{enumerable:!1,get(){return!!(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function K(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(2369)),this.state=q|V|$|W,e&&e.objectMode&&(this.state|=F),r&&e&&e.readableObjectMode&&(this.state|=F),this.highWaterMark=e?S(this,e,"readableHighWaterMark",r):I(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[P]=null,e&&!1===e.emitClose&&(this.state&=~q),e&&!1===e.autoDestroy&&(this.state&=~V),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new N(e.encoding),this.encoding=e.encoding)}function Y(e){if(!(this instanceof Y))return new Y(e);const t=this instanceof n(2369);this._readableState=new K(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&v(e.signal,this)),b.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&te(this,this._readableState)}))}function X(e,t,n,r){_("readableAddChunk",t);const i=e._readableState;let a;if(i.state&F||("string"==typeof t?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?t=w.from(t,n).toString(i.encoding):(t=w.from(t,n),n=""))):t instanceof w?n="":b._isUint8Array(t)?(t=b._uint8ArrayToBuffer(t),n=""):null!=t&&(a=new T("chunk",["string","Buffer","Uint8Array"],t))),a)B(e,a);else if(null===t)i.state&=-9,function(e,t){if(_("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Z(e):(t.needReadable=!1,t.emittedReadable=!0,ee(e))}}(e,i);else if(i.state&F||t&&t.length>0)if(r)if(4&i.state)B(e,new M);else{if(i.destroyed||i.errored)return!1;J(e,i,t,!0)}else if(i.ended)B(e,new L);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!n?(t=i.decoder.write(t),i.objectMode||0!==t.length?J(e,i,t,!1):te(e,i)):J(e,i,t,!1)}else r||(i.state&=-9,te(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function J(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.state&H?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.state&z&&Z(e)),te(e,t)}function Q(e,t){return e<=0||0===t.length&&t.ended?0:t.state&F?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Z(e){const t=e._readableState;_("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(_("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(ee,e))}function ee(e){const t=e._readableState;_("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,se(e)}function te(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(ne,e,t))}function ne(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const n=t.length;if(_("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function re(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[P]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ie(e){_("readable nexttick read 0"),e.read(0)}function ae(e,t){_("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),se(e),t.flowing&&!t.reading&&e.read(0)}function se(e){const t=e._readableState;for(_("flow",t.flowing);t.flowing&&null!==e.read(););}function oe(e,t){"function"!=typeof e.read&&(e=Y.wrap(e,{objectMode:!0}));const n=async function*(e,t){let n,r=U;function i(t){this===e?(r(),r=U):r=t}e.on("readable",i);const a=x(e,{writable:!1},(e=>{n=e?k(n,e):null,r(),r=U}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new d(i)}}}catch(e){throw n=k(n,e),n}finally{!n&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",i),a()):E.destroyer(e,null)}}(e,t);return n.stream=e,n}function ce(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function le(e){const t=e._readableState;_("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(ue,t,e))}function ue(e,t){if(_("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(de,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function de(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let fe;function ge(){return void 0===fe&&(fe={}),fe}c(K.prototype,{objectMode:G(F),ended:G(2),endEmitted:G(4),reading:G(8),constructed:G($),sync:G(W),needReadable:G(z),emittedReadable:G(128),readableListening:G(256),resumeScheduled:G(512),errorEmitted:G(1024),emitClose:G(q),autoDestroy:G(V),destroyed:G(8192),closed:G(16384),closeEmitted:G(32768),multiAwaitDrain:G(H),readingMore:G(1<<17),dataEmitted:G(1<<18)}),Y.prototype.destroy=E.destroy,Y.prototype._undestroy=E.undestroy,Y.prototype._destroy=function(e,t){t(e)},Y.prototype[m.captureRejectionSymbol]=function(e){this.destroy(e)},Y.prototype[g]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new O,this.destroy(e)),new d(((t,n)=>x(this,(r=>r&&r!==e?n(r):t(null)))))},Y.prototype.push=function(e,t){return X(this,e,t,!1)},Y.prototype.unshift=function(e,t){return X(this,e,t,!0)},Y.prototype.isPaused=function(){const e=this._readableState;return!0===e[P]||!1===e.flowing},Y.prototype.setEncoding=function(e){const t=new N(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const e of n)r+=t.write(e);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this},Y.prototype.read=function(e){_("read",e),void 0===e?e=NaN:a(e)||(e=o(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new j("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return _("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?le(this):Z(this),null;if(0===(e=Q(e,t))&&t.ended)return 0===t.length&&le(this),null;let r,i=!!(t.state&z);if(_("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,_("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,_("reading, ended or constructing",i);else if(i){_("do read"),t.state|=8|W,0===t.length&&(t.state|=z);try{this._read(t.highWaterMark)}catch(e){B(this,e)}t.state&=~W,t.reading||(e=Q(n,t))}return r=e>0?ce(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&le(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},Y.prototype._read=function(e){throw new R("_read()")},Y.prototype.pipe=function(e,t){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),_("pipe count=%d opts=%j",i.pipes.length,t);const a=t&&!1===t.end||e===r.stdout||e===r.stderr?h:s;function s(){_("onend"),e.end()}let o;i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",(function t(r,a){_("onunpipe"),r===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,_("cleanup"),e.removeListener("close",g),e.removeListener("finish",p),o&&e.removeListener("drain",o),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",h),n.removeListener("data",u),c=!0,o&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&o())}));let c=!1;function l(){c||(1===i.pipes.length&&i.pipes[0]===e?(_("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(_("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),o||(o=function(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(_("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(_("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",o))}function u(t){_("ondata");const n=e.write(t);_("dest.write",n),!1===n&&l()}function d(t){if(_("onerror",t),h(),e.removeListener("error",d),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?B(e,t):e.emit("error",t)}}function g(){e.removeListener("finish",p),h()}function p(){_("onfinish"),e.removeListener("close",g),h()}function h(){_("unpipe"),n.unpipe(e)}return n.on("data",u),y(e,"error",d),e.once("close",g),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?l():i.flowing||(_("pipe resume"),n.resume()),e},Y.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=i(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},Y.prototype.on=function(e,t){const n=b.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,_("on readable",i.length,i.reading),i.length?Z(this):i.reading||r.nextTick(ie,this))),n},Y.prototype.addListener=Y.prototype.on,Y.prototype.removeListener=function(e,t){const n=b.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(re,this),n},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(e){const t=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(re,this),t},Y.prototype.resume=function(){const e=this._readableState;return e.flowing||(_("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(ae,e,t))}(this,e)),e[P]=!1,this},Y.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[P]=!0,this},Y.prototype.wrap=function(e){let t=!1;e.on("data",(n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{B(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=l(e);for(let t=1;t<n.length;t++){const r=n[t];void 0===this[r]&&"function"==typeof e[r]&&(this[r]=e[r].bind(e))}return this},Y.prototype[p]=function(){return oe(this)},Y.prototype.iterator=function(e){return void 0!==e&&C(e,"options"),oe(this,e)},c(Y.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(K.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[P]},set(e){this[P]=!!e}}}),Y._fromList=ce,Y.from=function(e,t){return D(Y,e,t)},Y.fromWeb=function(e,t){return ge().newStreamReadableFromReadableStream(e,t)},Y.toWeb=function(e,t){return ge().newReadableStreamFromStreamReadable(e,t)},Y.wrap=function(e,t){var n,r;return new Y({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){E.destroyer(e,t),n(t)}}).wrap(e)}},1482:(e,t,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:i}=n(2615),{validateInteger:a}=n(7570),{ERR_INVALID_ARG_VALUE:s}=n(1876).codes;let o=16384,c=16;function l(e){return e?c:o}e.exports={getHighWaterMark:function(e,t,n,a){const o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,a,n);if(null!=o){if(!i(o)||o<0)throw new s(a?`options.${n}`:"options.highWaterMark",o);return r(o)}return l(e.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(e,t){a(t,"value",0),e?c=t:o=t}}},4743:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r,Symbol:i}=n(2615);e.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:a}=n(1876).codes,s=n(2369),{getHighWaterMark:o}=n(1482);r(l.prototype,s.prototype),r(l,s);const c=i("kCallback");function l(e){if(!(this instanceof l))return new l(e);const t=e?o(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())}))}function d(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(e,t,n){throw new a("_transform()")},l.prototype._write=function(e,t,n){const r=this._readableState,i=this._writableState,a=r.length;this._transform(e,t,((e,t)=>{e?n(e):(null!=t&&this.push(t),i.ended||a===r.length||r.length<r.highWaterMark?n():this[c]=n)}))},l.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},5682:(e,t,n)=>{"use strict";const{SymbolAsyncIterator:r,SymbolIterator:i,SymbolFor:a}=n(2615),s=a("nodejs.stream.destroyed"),o=a("nodejs.stream.errored"),c=a("nodejs.stream.readable"),l=a("nodejs.stream.writable"),u=a("nodejs.stream.disturbed"),d=a("nodejs.webstream.isClosedPromise"),f=a("nodejs.webstream.controllerErrorFunction");function g(e,t=!1){var n;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function h(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!(!e||h(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function b(e){return!(!e||h(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function y(e){return!(!e||h(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function w(e){if(!h(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!=r&&r.destroyed)}function v(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function x(e,t){if(!g(e))return null;const n=e._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function _(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!w(e)&&g(e)&&e.readable&&!x(e)}function A(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!w(e)&&p(e)&&e.writable&&!v(e)}function E(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function S(e){return"boolean"==typeof e._sent100&&E(e)}e.exports={isDestroyed:w,kIsDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,n,r,i,a,s,c,l,u,d;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(a=null!==(s=e[o])&&void 0!==s?s:e.readableErrored)&&void 0!==a?a:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:o,isReadable:_,kIsReadable:c,kIsClosedPromise:d,kControllerErrorFunction:f,kIsWritable:l,isClosed:function(e){if(!h(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==t?void 0:t.closed)||(null==n?void 0:n.closed):"boolean"==typeof e._closed&&E(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return h(e)?!(!w(e)&&(!1!==(null==t?void 0:t.readable)&&_(e)||!1!==(null==t?void 0:t.writable)&&A(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[r]:!1===t?"function"==typeof e[i]:"function"==typeof e[r]||"function"==typeof e[i])},isReadableNodeStream:g,isReadableStream:m,isReadableEnded:function(e){if(!g(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:x,isReadableErrored:function(e){var t,n;return h(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:h,isWebStream:function(e){return m(e)||b(e)||y(e)},isWritable:A,isWritableNodeStream:p,isWritableStream:b,isWritableEnded:v,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return h(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:S,willEmitClose:function(e){if(!h(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&S(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:y}},3595:(e,t,n)=>{const r=n(1385),{ArrayPrototypeSlice:i,Error:a,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:c,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:f}=n(2615);e.exports=C,C.WritableState=M;const{EventEmitter:g}=n(9032),p=n(2403).Stream,{Buffer:h}=n(9922),m=n(4449),{addAbortSignal:b}=n(764),{getHighWaterMark:y,getDefaultHighWaterMark:w}=n(1482),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:S,ERR_STREAM_NULL_VALUES:I,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:T}=n(1876).codes,{errorOrDestroy:R}=m;function j(){}l(C.prototype,p.prototype),l(C,p);const L=d("kOnFinished");function M(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(2369)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?y(this,e,"writableHighWaterMark",r):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=U.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,O(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[L]=[]}function O(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function C(e){const t=this instanceof n(2369);if(!t&&!s(C,this))return new C(e);this._writableState=new M(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&b(e.signal,this)),p.call(this,e),m.construct(this,(()=>{const e=this._writableState;e.writing||W(this,e),q(this,e)}))}function P(e,t,n,i){const a=e._writableState;if("function"==typeof n)i=n,n=a.defaultEncoding;else{if(n){if("buffer"!==n&&!h.isEncoding(n))throw new T(n)}else n=a.defaultEncoding;"function"!=typeof i&&(i=j)}if(null===t)throw new I;if(!a.objectMode)if("string"==typeof t)!1!==a.decodeStrings&&(t=h.from(t,n),n="buffer");else if(t instanceof h)n="buffer";else{if(!p._isUint8Array(t))throw new v("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),n="buffer"}let s;return a.ending?s=new k:a.destroyed&&(s=new E("write")),s?(r.nextTick(i,s),R(e,s,!0),s):(a.pendingcb++,function(e,t,n,r,i){const a=t.objectMode?1:n.length;t.length+=a;const s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==j&&(t.allNoop=!1)):(t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,a,t,n,i))}function N(e,t,n,r,i,a,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new E("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function D(e,t,n,r){--t.pendingcb,r(n),$(t),R(e,n)}function U(e,t){const n=e._writableState,i=n.sync,a=n.writecb;"function"==typeof a?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(D,e,n,t,a):D(e,n,t,a)):(n.buffered.length>n.bufferedIndex&&W(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===a?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:a,stream:e,state:n},r.nextTick(B,n.afterWriteTickInfo)):F(e,n,1,a))):R(e,new _)}function B({stream:e,state:t,count:n,cb:r}){return t.afterWriteTickInfo=null,F(e,t,n,r)}function F(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&$(t),q(e,t)}function $(e){if(e.writing)return;for(let n=e.bufferedIndex;n<e.buffered.length;++n){var t;const{chunk:r,callback:i}=e.buffered[n],a=e.objectMode?1:r.length;e.length-=a,i(null!==(t=e.errored)&&void 0!==t?t:new E("write"))}const n=e[L].splice(0);for(let t=0;t<n.length;t++){var r;n[t](null!==(r=e.errored)&&void 0!==r?r:new E("end"))}O(e)}function W(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:a}=t,s=n.length-r;if(!s)return;let o=r;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;const r=t.allNoop?j:e=>{for(let t=o;t<n.length;++t)n[t].callback(e)},a=t.allNoop&&0===o?n:i(n,o);a.allBuffers=t.allBuffers,N(e,t,!0,t.length,a,"",r),O(t)}else{do{const{chunk:r,encoding:i,callback:s}=n[o];n[o++]=null,N(e,t,!1,a?1:r.length,r,i,s)}while(o<n.length&&!t.writing);o===n.length?O(t):o>256?(n.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}function z(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function q(e,t,n){z(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)R(e,null!=i?i:_());else if(n=!0,t.pendingcb--,i){const n=t[L].splice(0);for(let e=0;e<n.length;e++)n[e](i);R(e,i,t.sync)}else z(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(V,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{z(t)?V(e,t):t.pendingcb--}),e,t)):z(t)&&(t.pendingcb++,V(e,t))))}function V(e,t){t.pendingcb--,t.finished=!0;const n=t[L].splice(0);for(let e=0;e<n.length;e++)n[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},o(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),o(C,f,{__proto__:null,value:function(e){return!!s(this,e)||this===C&&e&&e._writableState instanceof M}}),C.prototype.pipe=function(){R(this,new A)},C.prototype.write=function(e,t,n){return!0===P(this,e,t,n)},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||W(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=u(e)),!h.isEncoding(e))throw new T(e);return this._writableState.defaultEncoding=e,this},C.prototype._write=function(e,t,n){if(!this._writev)throw new x("_write()");this._writev([{chunk:e,encoding:t}],n)},C.prototype._writev=null,C.prototype.end=function(e,t,n){const i=this._writableState;let s;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){const n=P(this,e,t);n instanceof a&&(s=n)}return i.corked&&(i.corked=1,this.uncork()),s||(i.errored||i.ending?i.finished?s=new S("end"):i.destroyed&&(s=new E("end")):(i.ending=!0,q(this,i,!0),i.ended=!0)),"function"==typeof n&&(s||i.finished?r.nextTick(n,s):i[L].push(n)),this},c(C.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const H=m.destroy;let G;function K(){return void 0===G&&(G={}),G}C.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[L].length)&&r.nextTick($,n),H.call(this,e,t),this},C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},C.fromWeb=function(e,t){return K().newStreamWritableFromWritableStream(e,t)},C.toWeb=function(e){return K().newWritableStreamFromStreamWritable(e)}},7570:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:a,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:g,String:p,StringPrototypeToUpperCase:h,StringPrototypeTrim:m}=n(2615),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:_}}=n(1876),{normalizeEncoding:A}=n(8723),{isAsyncFunction:E,isArrayBufferView:S}=n(8723).types,I={},k=/^[0-7]+$/,T=b(((e,t,n=u,r=l)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new x(t,"an integer",e);if(e<n||e>r)throw new x(t,`>= ${n} && <= ${r}`,e)})),R=b(((e,t,n=-2147483648,r=2147483647)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new x(t,"an integer",e);if(e<n||e>r)throw new x(t,`>= ${n} && <= ${r}`,e)})),j=b(((e,t,n=!1)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new x(t,"an integer",e);const r=n?1:0,i=4294967295;if(e<r||e>i)throw new x(t,`>= ${r} && <= ${i}`,e)}));function L(e,t){if("string"!=typeof e)throw new w(t,"string",e)}const M=b(((e,t,n)=>{if(!i(n,e)){const r=a(s(n,(e=>"string"==typeof e?`'${e}'`:p(e))),", ");throw new v(t,e,"must be one of: "+r)}}));function O(e,t){if("boolean"!=typeof e)throw new w(t,"boolean",e)}function C(e,t,n){return null!=e&&f(e,t)?e[t]:n}const P=b(((e,t,n=null)=>{const i=C(n,"allowArray",!1),a=C(n,"allowFunction",!1);if(!C(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=typeof e&&(!a||"function"!=typeof e))throw new w(t,"Object",e)})),N=b(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new w(t,"a dictionary",e)})),D=b(((e,t,n=0)=>{if(!r(e))throw new w(t,"Array",e);if(e.length<n)throw new v(t,e,`must be longer than ${n}`)})),U=b(((e,t="buffer")=>{if(!S(e))throw new w(t,["Buffer","TypedArray","DataView"],e)})),B=b(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)})),F=b(((e,t)=>{if("function"!=typeof e)throw new w(t,"Function",e)})),$=b(((e,t)=>{if("function"!=typeof e||E(e))throw new w(t,"Function",e)})),W=b(((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)})),z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(e,t){if(void 0===e||!g(z,e))throw new v(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if(void 0===e&&(e=n),"string"==typeof e){if(null===g(k,e))throw new v(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return j(e,t),e},validateArray:D,validateStringArray:function(e,t){D(e,t);for(let n=0;n<e.length;n++)L(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){D(e,t);for(let n=0;n<e.length;n++)O(e[n],`${t}[${n}]`)},validateAbortSignalArray:function(e,t){D(e,t);for(let n=0;n<e.length;n++){const r=e[n],i=`${t}[${n}]`;if(null==r)throw new w(i,"AbortSignal",r);B(r,i)}},validateBoolean:O,validateBuffer:U,validateDictionary:N,validateEncoding:function(e,t){const n=A(t),r=e.length;if("hex"===n&&r%2!=0)throw new v("encoding",t,`is invalid for data of length ${r}`)},validateFunction:F,validateInt32:R,validateInteger:T,validateNumber:function(e,t,n=void 0,r){if("number"!=typeof e)throw new w(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&c(e))throw new x(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)},validateObject:P,validateOneOf:M,validatePlainFunction:$,validatePort:function(e,t="Port",n=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!=+e>>>0||e>65535||0===e&&!n)throw new y(t,e,n);return 0|e},validateSignalName:function(e,t="signal"){if(L(e,t),void 0===I[e]){if(void 0!==I[h(e)])throw new _(e+" (signals must use all capital letters)");throw new _(e)}},validateString:L,validateUint32:j,validateUndefined:W,validateUnion:function(e,t,n){if(!i(n,e))throw new w(t,`('${a(n,"|")}')`,e)},validateAbortSignal:B,validateLinkHeaderValue:function(e){if("string"==typeof e)return q(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const i=e[r];q(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new v("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},3039:(e,t,n)=>{"use strict";const r=n(6855),i=n(1488),a=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=a,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=r.Stream,e.exports.default=e.exports},1876:(e,t,n)=>{"use strict";const{format:r,inspect:i,AggregateError:a}=n(8723),s=globalThis.AggregateError||a,o=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function g(e,t,n){n||(n=Error);class i extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return d(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[o]=!0,u[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class h extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",((e,t,n)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const a=[],s=[],o=[];for(const e of t)d("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?a.push(e.toLowerCase()):l.test(e)?s.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),o.push(e));if(s.length>0){const e=a.indexOf("object");-1!==e&&(a.splice(a,e,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:r+=`of type ${a[0]}`;break;case 2:r+=`one of type ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`one of type ${a.join(", ")}, or ${e}`}}(s.length>0||o.length>0)&&(r+=" or ")}if(s.length>0){switch(s.length){case 1:r+=`an instance of ${s[0]}`;break;case 2:r+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`an instance of ${s.join(", ")}, or ${e}`}}o.length>0&&(r+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(r+="an "),r+=`${o[0]}`;break;case 2:r+=`one of ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();r+=`one of ${o.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var u;null!==(u=n.constructor)&&void 0!==u&&u.name?r+=`. Received an instance of ${n.constructor.name}`:r+=`. Received ${i(n,{depth:-1})}`}else{let e=i(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r}),TypeError),g("ERR_INVALID_ARG_VALUE",((e,t,n="is invalid")=>{let r=i(t);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`}),TypeError),g("ERR_INVALID_RETURN_VALUE",((e,t,n)=>{var r;return`Expected ${e} to be returned from the "${t}" function but got ${null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),g("ERR_MISSING_ARGS",((...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}}return`${t} must be specified`}),TypeError),g("ERR_OUT_OF_RANGE",((e,t,n)=>{let r;return d(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=f(String(n)):"bigint"==typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=f(r)),r+="n"):r=i(n),`The value of "${e}" is out of range. It must be ${t}. Received ${r}`}),RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:h,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new s([t,e],t.message);return n.code=t.code,n}return e||t})),hideStackFrames:p,codes:u}},2615:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error,FunctionPrototypeCall:(e,t,...n)=>e.call(t,...n),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Boolean,Uint8Array}},8723:(e,t,n)=>{"use strict";const r=n(9922),{kResistStopPropagation:i,SymbolDispose:a}=n(2615),s=globalThis.AbortSignal||n(3901).AbortSignal,o=globalThis.AbortController||n(3901).AbortController,c=Object.getPrototypeOf((async function(){})).constructor,l=globalThis.Blob||r.Blob,u=void 0!==l?function(e){return e instanceof l}:function(e){return!1},d=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)};class f extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...n){t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}},promisify:e=>new Promise(((t,n)=>{e(((e,...r)=>e?n(e):t(...r)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,n]){const r=t.shift();return"f"===n?r.toFixed(6):"j"===n?JSON.stringify(r):"s"===n&&"object"==typeof r?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof c,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:u,deprecate:(e,t)=>e,addAbortListener:n(9032).addAbortListener||function(e,t){if(void 0===e)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);let n;return d(e,"signal"),((e,t)=>{if("function"!=typeof e)throw new ERR_INVALID_ARG_TYPE("listener","Function",e)})(t),e.aborted?queueMicrotask((()=>t())):(e.addEventListener("abort",t,{__proto__:null,once:!0,[i]:!0}),n=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[a](){var e;null===(e=n)||void 0===e||e()}}},AbortSignalAny:s.any||function(e){if(1===e.length)return e[0];const t=new o,n=()=>t.abort();return e.forEach((e=>{d(e,"signals"),e.addEventListener("abort",n,{once:!0})})),t.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",n)))}),{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},6855:(e,t,n)=>{const{Buffer:r}=n(9922),{ObjectDefineProperty:i,ObjectKeys:a,ReflectApply:s}=n(2615),{promisify:{custom:o}}=n(8723),{streamReturningOperators:c,promiseReturningOperators:l}=n(5862),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=n(1876),d=n(2151),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:g}=n(1482),{pipeline:p}=n(4525),{destroyer:h}=n(4449),m=n(1327),b=n(1488),y=n(5682),w=e.exports=n(2403).Stream;w.isDestroyed=y.isDestroyed,w.isDisturbed=y.isDisturbed,w.isErrored=y.isErrored,w.isReadable=y.isReadable,w.isWritable=y.isWritable,w.Readable=n(4471);for(const _ of a(c)){const A=c[_];function v(...e){if(new.target)throw u();return w.Readable.from(s(A,this,e))}i(v,"name",{__proto__:null,value:A.name}),i(v,"length",{__proto__:null,value:A.length}),i(w.Readable.prototype,_,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const E of a(l)){const S=l[E];function v(...e){if(new.target)throw u();return s(S,this,e)}i(v,"name",{__proto__:null,value:S.name}),i(v,"length",{__proto__:null,value:S.length}),i(w.Readable.prototype,E,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}w.Writable=n(3595),w.Duplex=n(2369),w.Transform=n(4743),w.PassThrough=n(8469),w.pipeline=p;const{addAbortSignal:x}=n(764);w.addAbortSignal=x,w.finished=m,w.destroy=h,w.compose=d,w.setDefaultHighWaterMark=f,w.getDefaultHighWaterMark=g,i(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),i(p,o,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),i(m,o,{__proto__:null,enumerable:!0,get:()=>b.finished}),w.Stream=w,w._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},1488:(e,t,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:i}=n(2615),{isIterable:a,isNodeStream:s,isWebStream:o}=n(5682),{pipelineImpl:c}=n(4525),{finished:l}=n(1327);n(6855),e.exports={finished:l,pipeline:function(...e){return new i(((t,n)=>{let i,l;const u=e[e.length-1];if(u&&"object"==typeof u&&!s(u)&&!a(u)&&!o(u)){const t=r(e);i=t.signal,l=t.end}c(e,((e,r)=>{e?n(e):t(r)}),{signal:i,end:l})}))}}},1282:(e,t,n)=>{var r=n(9922),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),a(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},8698:(e,t,n)=>{"use strict";var r=n(1282).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function g(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},5606:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},8836:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var i=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}},9424:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});for(var r=[],i=0;i<256;++i)r.push((i+256).toString(16).slice(1));function a(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}},9711:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5606),i=n(8836),a=n(9424);const s=function(e,t,n){if(r.A.randomUUID&&!t&&!e)return r.A.randomUUID();var s=(e=e||{}).random||(e.rng||i.A)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=s[o];return t}return(0,a.k)(s)}},7272:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},a=e=>1==e?"argument":"arguments",s=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let o=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),l={has:(t,n)=>n in e||n in r,get(l,u,d){if(u in r)return r[u];if(!(u in e))return;let f=e[u];if("function"==typeof f)if("function"==typeof t[u])f=s(e,e[u],t[u]);else if(o(n,u)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((a,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:a,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,a()}else t.noCallback?(n[e](...r),a()):n[e](...r,i({resolve:a,reject:s},t))}))})(u,n[u]);f=s(e,e[u],t)}else f=f.bind(e);else if("object"==typeof f&&null!==f&&(o(t,u)||o(n,u)))f=c(f,t[u],n[u]);else{if(!o(n,"*"))return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:()=>e[u],set(t){e[u]=t}}),f;f=c(f,t[u],n["*"])}return r[u]=f,f},set:(t,n,i,a)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},u=Object.create(e);return new Proxy(u,l)},l=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),u=new r((e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),d=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,a,s=!1,o=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{a=e(t,n,i)}catch(e){a=Promise.reject(e)}const c=!0!==a&&((l=a)&&"object"==typeof l&&"function"==typeof l.then);var l;if(!0!==a&&!c&&!s)return!1;return(c?a:o).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),f=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},g=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=f.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},p={devtools:{network:{onRequestFinished:l(u)}},runtime:{onMessage:l(d),onMessageExternal:l(d),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":h},services:{"*":h},websites:{"*":h}},c(e,p,n)};e.exports=n(chrome)}},void 0===(r=n.apply(t,[e]))||(e.exports=r)},4534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Support event pages",a="20210820184257_support_event_pages";async function s(){const e={taskRegistry:{lastTaskStart:0,tabs:{},tasks:{}},storageRegistry:{},lastStorageCleanup:0};return e.storageVersion=a,r.storage.local.set(e)}},1670:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add image sharing options",a="20210919175209_add_image_sharing_options";async function s(){const e={shareImageContextMenu:!0,shareImageAction:!0,convertSharedImage:!0};return e.storageVersion=a,r.storage.local.set(e)}},7867:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Unsplash",a="20210928090443_add_unsplash";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["unsplash"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},4016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>a,revision:()=>s,upgrade:()=>o});var r=n(4729),i=n(7272);const a="Configure engines",s="20211011114043_configure_engines";async function o(){const e={};if("safari"===r.Dm){const{engines:t,disabledEngines:n}=await i.storage.local.get(["engines","disabledEngines"]),r=["iqdb","jpDesign"];e.engines=t.concat(r),e.disabledEngines=n.concat(r)}return e.storageVersion=s,i.storage.local.set(e)}},405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add SHEIN",a="20211106103932_add_shein";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["shein"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},2276:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add LykDat",a="20211111071410_add_lykdat";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["lykdat"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},8722:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Wildberries",a="20211204124507_add_wildberries";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["wildberries"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},4948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add lastEngineAccessCheck",a="20211213014048_add_lastengineaccesscheck";async function s(){const e={lastEngineAccessCheck:0};return e.storageVersion=a,r.storage.local.set(e)}},5959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add setContextMenuEvent",a="20211213191049_add_setcontextmenuevent";async function s(){const e={setContextMenuEvent:0};return e.storageVersion=a,r.storage.local.set(e)}},8322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>s,revision:()=>o,upgrade:()=>c});var r=n(8618),i=n(4729),a=n(7272);const s="Add Google Lens",o="20220108063511_add_google_lens";async function c(){const e={},{engines:t,disabledEngines:n}=await a.storage.local.get(["engines","disabledEngines"]);if("safari"!==i.Dm||!await(0,r.Fr)()){const r=["googleLens"];"samsung"===i.Dm&&(t.push("mailru"),n.push("mailru")),e.engines=t.concat(r),e.disabledEngines=n.concat(r)}return e.storageVersion=o,a.storage.local.set(e)}},5013:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add clipboard support",a="20220321163741_add_clipboard_support";async function s(){const e={autoPasteAction:!0,confirmPaste:!0};return e.storageVersion=a,r.storage.local.set(e)}},6730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Detect alternative image sizes",a="20220505174634_detect_alternative_image_sizes";async function s(){const e={detectAltImageDimension:!1};return e.storageVersion=a,r.storage.local.set(e)}},4784:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Update search mode IDs",a="20220516051842_update_search_mode_ids";async function s(){const e={},{searchModeContextMenu:t,searchModeAction:n}=await r.storage.local.get(["searchModeContextMenu","searchModeAction"]),i={select:"selectUrl",selectUpload:"selectImage",upload:"browse"};return i[t]&&(e.searchModeContextMenu=i[t]),i[n]&&(e.searchModeAction=i[n]),e.storageVersion=a,r.storage.local.set(e)}},314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Open images",a="20220516124148_open_images";async function s(){const e={viewImageContextMenu:!0,viewImageAction:!0,viewImageUseViewer:!0};return e.storageVersion=a,r.storage.local.set(e)}},388:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>s,revision:()=>o,upgrade:()=>c});var r=n(8618),i=n(4729),a=n(7272);const s="Configure engines",o="20220814142801_configure_engines";async function c(){const e={};if("safari"===i.Dm&&await(0,r.Fr)()){const{engines:t,disabledEngines:n}=await a.storage.local.get(["engines","disabledEngines"]),r=["googleLens"];e.engines=t.concat(r),e.disabledEngines=n.concat(r)}return e.storageVersion=o,a.storage.local.set(e)}},1745:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Lexica",a="20220924083846_add_lexica";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["lexica"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},9915:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>a,revision:()=>s,upgrade:()=>o});var r=n(8618),i=n(7272);const a="Add theme support",s="20230415111029_add_theme_support";async function o(){const e={appTheme:"auto",showContribPage:!0,showEngineIcons:!0,contribPageLastAutoOpen:0,pinActionToolbarViewImage:!0,pinActionToolbarShareImage:!1,pinActionToolbarOptions:!1,pinActionToolbarContribute:!0},{installTime:t,searchCount:n}=await i.storage.local.get(["installTime","searchCount"]);return e.installTime=(0,r.I4)(t),e.useCount=n,await i.storage.local.remove(["searchCount","viewImageAction","shareImageAction"]),e.storageVersion=s,i.storage.local.set(e)}},3797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Remove search engines",a="20230531103023_remove_search_engines";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["jingdong","mailru"];return e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=n.filter((function(e){return!i.includes(e)})),e.storageVersion=a,r.storage.local.set(e)}},9524:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Kagi",a="20230601115626_add_kagi";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["kagi"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},6390:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add search engines",a="20230624145626_add_search_engines";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["haveibeentrained","enterpix","immerse","clipretrieval"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},6673:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Freepik",a="20230716121432_add_freepik";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["freepik"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Remove Unsplash",a="20231009185955_remove_unsplash";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["unsplash"];return e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=n.filter((function(e){return!i.includes(e)})),e.storageVersion=a,r.storage.local.set(e)}},9159:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Icons8",a="20231102164602_add_icons8";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["icons8"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},3159:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add appVersion",a="20240514170322_add_appversion";async function s(){const e={appVersion:"",menuItems:[],privateMenuItems:[]};return e.storageVersion=a,r.storage.local.set(e)}},7021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Update search engines",a="20240529183556_update_search_engines";async function s(e){const t={},{engines:n,disabledEngines:i}=await r.storage.local.get(["engines","disabledEngines"]);return n.splice(0,0,n.splice(n.indexOf("googleLens"),1)[0]),i.includes("googleLens")&&!i.includes("google")&&i.splice(i.indexOf("googleLens"),1),e.install&&i.push("google"),t.engines=n,t.disabledEngines=i,t.storageVersion=a,r.storage.local.set(t)}},38:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add menuChangeEvent",a="20240619180111_add_menuchangeevent";async function s(){const e={menuChangeEvent:0,privateMenuChangeEvent:0};return await r.storage.local.remove("setContextMenuEvent"),e.storageVersion=a,r.storage.local.set(e)}},7911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Remove search engines",a="20240624161944_remove_search_engines";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["haveibeentrained","enterpix","immerse","clipretrieval"];return e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=n.filter((function(e){return!i.includes(e)})),e.storageVersion=a,r.storage.local.set(e)}},1172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add WhatAnime",a="BJXdcUXOG";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("whatanime"),e.disabledEngines=n.concat("whatanime"),e.storageVersion=a,r.storage.local.set(e)}},9981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add installTime and searchCount",a="BJguWEHcbz";async function s(){const e={};return e.installTime=Date.now(),e.searchCount=0,e.storageVersion=a,r.storage.local.set(e)}},9925:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Merge searchAllEngines options",a="Bk42MzXdW";async function s(){const e={},{searchAllEngines:t,searchAllEnginesLocation:n}=await r.storage.local.get(["searchAllEngines","searchAllEnginesLocation"]);return await r.storage.local.remove(["searchAllEngines","searchAllEnginesLocation"]),e.searchAllEnginesContextMenu=t?"menu"===n?"main":"sub":"false",e.storageVersion=a,r.storage.local.set(e)}},864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add showInContextMenu, searchAllEnginesAction and searchModeAction options",a="HJ5MKKGhW";async function s(){const e={showInContextMenu:!0,searchAllEnginesAction:"sub",searchModeAction:"select"};return e.storageVersion=a,r.storage.local.set(e)}},1999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add imgFullParse option",a="Hy1tD8ANb";async function s(){const e={imgFullParse:!1};return e.storageVersion=a,r.storage.local.set(e)}},897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Hide unavailable engines",a="IMMjiccGj";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["wayfair","birchlane","allmodern","jossandmain","perigold"];return e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=n.filter((function(e){return!i.includes(e)})),e.storageVersion=a,r.storage.local.set(e)}},7636:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Reddit Repost Sleuth",a="K9Esw2jiQ3";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("repostSleuth"),e.disabledEngines=n.concat("repostSleuth"),e.storageVersion=a,r.storage.local.set(e)}},935:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add trademark and design patent search engines",a="LX20x6G8l";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["esearch","tmview","branddb","madridMonitor","auTrademark","auDesign","nzTrademark","jpDesign"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},1353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Iqdb",a="S18hLi5tG";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("iqdb"),e.disabledEngines=n.concat("iqdb"),e.storageVersion=a,r.storage.local.set(e)}},521:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Karma Decay",a="S1ebtZ3Uzz";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("karmaDecay"),e.disabledEngines=n.concat("karmaDecay"),e.storageVersion=a,r.storage.local.set(e)}},8488:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Sogou engine",a="S1kNNadHZ";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("sogou"),e.disabledEngines=n.concat("sogou"),e.storageVersion=a,r.storage.local.set(e)}},397:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Ascii2d",a="SJzIWmjKz";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("ascii2d"),e.disabledEngines=n.concat("ascii2d"),e.storageVersion=a,r.storage.local.set(e)}},3362:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Dreamstime, Alamy and 123RF",a="ShjDMM87";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["dreamstime","alamy","123rf"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},9811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add SauceNAO",a="SklYTwQOYf";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("saucenao"),e.disabledEngines=n.concat("saucenao"),e.storageVersion=a,r.storage.local.set(e)}},389:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Qihoo",a="SkwaU8NlX";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("qihoo"),e.disabledEngines=n.concat("qihoo"),e.storageVersion=a,r.storage.local.set(e)}},2888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Pinterest",a="Syy800KkQ";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("pinterest"),e.disabledEngines=n.concat("pinterest"),e.storageVersion=a,r.storage.local.set(e)}},8302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>s,revision:()=>o,upgrade:()=>c});var r=n(8618),i=n(4729),a=n(7272);const s="Configure search engines",o="TshBYj8anA";async function c(){const e={},{installTime:t}=await a.storage.local.get("installTime");let{engines:n,disabledEngines:s}=await a.storage.local.get(["engines","disabledEngines"]);const c=[];if("samsung"===i.Dm?(n.splice(n.indexOf("auDesign"),0,"auTrademark"),s.push("auTrademark","dreamstime")):"safari"===i.Dm&&c.push("iqdb","jpDesign"),(await(0,r.m0)()||"safari"===i.Dm)&&c.push("jingdong","taobao","alibabaChina"),c.length&&(n=n.filter((function(e){return!c.includes(e)})),s=s.filter((function(e){return!c.includes(e)}))),Date.now()-t<6e4){"samsung"===i.Dm&&s.push("dreamstime");const e=["sogou","shutterstock","alamy"];s=s.filter((function(t){return!e.includes(t)}))}return n.splice(n.indexOf("baidu")+1,0,n.splice(n.indexOf("sogou"),1)[0]),e.engines=n,e.disabledEngines=s,e.storageVersion=o,a.storage.local.set(e)}},9849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add bypassImageHostBlocking",a="UhWEtK9gMh";async function s(){const e={bypassImageHostBlocking:!0};return e.storageVersion=a,r.storage.local.set(e)}},7164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add PimEyes, Stocksy United, Pond5, PIXTA and Wayfair",a="d8CIdomCW";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["pimeyes","stocksy","pond5","pixta","wayfair"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},1075:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>a,revision:()=>s,upgrade:()=>o});var r=n(4729),i=n(7272);const a="Configure engines for Samsung Internet",s="d8IK4KCtVm";async function o(){const e={};if("samsung"===r.Dm){const{engines:t,disabledEngines:n}=await i.storage.local.get(["engines","disabledEngines"]),r=["shutterstock","dreamstime"],a=["mailru","jingdong","taobao","alibabaChina","auTrademark"];e.engines=t.filter((function(e){return!a.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)&&!a.includes(e)}))}return e.storageVersion=s,i.storage.local.set(e)}},2701:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Mail.ru",a="ekhOvNiTsF";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("mailru"),e.disabledEngines=n.concat("mailru"),e.storageVersion=a,r.storage.local.set(e)}},6794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add new search engines",a="ggrr9C9pgV";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["birchlane","allmodern","jossandmain","perigold","ikea"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},7462:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add stock photo engines",a="r1H3rgx1X";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["getty","istock","shutterstock","adobestock","depositphotos"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},8546:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add searchModeContextMenu",a="r1Pvd36nz";async function s(){const e={searchModeContextMenu:"select"};return e.storageVersion=a,r.storage.local.set(e)}},7132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add contribPageLastOpen",a="ryY8H0EWf";async function s(){const e={contribPageLastOpen:0};return e.storageVersion=a,r.storage.local.set(e)}},4781:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Initial version",a="ryekyizAg";async function s(){const e={engines:["google","bing","yandex","baidu","tineye"],disabledEngines:[],searchAllEngines:!0,searchAllEnginesLocation:"submenu",tabInBackgound:!1,localGoogle:!0};return e.storageVersion=a,r.storage.local.set(e)}},1233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Add Jingdong, Taobao and Alibaba China",a="yLciyvS5He";async function s(){const e={},{engines:t,disabledEngines:n}=await r.storage.local.get(["engines","disabledEngines"]),i=["jingdong","taobao","alibabaChina"];return e.engines=t.concat(i),e.disabledEngines=n.concat(i),e.storageVersion=a,r.storage.local.set(e)}},211:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var r=n(7272);const i="Initial version",a="20240514122825_initial_version";async function s(){const e={platformInfo:null,menuChangeEvent:0,privateMenuChangeEvent:0};return e.storageVersion=a,r.storage.session.set(e)}},786:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g,Hu:()=>s,XL:()=>c,eK:()=>f});var r=n(8618),i=n(4729),a=n(7272);async function s({area:e="local"}={}){try{return await a.storage[e].get(""),!0}catch(e){return!1}}const o={local:!1,session:!1,sync:!1};async function c({area:e="local"}={}){if(o[e])return!0;{const{storageVersion:t}=await a.storage[e].get("storageVersion");if(t&&t===i.QB[e])return o[e]=!0,!0}return!1}async function l({area:e="local"}={}){if(!o[e])return new Promise(((t,n)=>{let r;const i=async function(){await c({area:e})?(self.clearTimeout(a),t()):r?n(new Error(`Storage (${e}) is not ready`)):self.setTimeout(i,30)},a=self.setTimeout((function(){r=!0}),6e4);i()}))}function u(e,t,{encode:n=!0}={}){return n?`${t}${(0,r.Zr)(e)}`:(0,r.ag)(e.replace(new RegExp(`^${t}`),""))}function d(e,t,{encode:n=!0}={}){if("string"==typeof e)return u(e,t,{encode:n});if(Array.isArray(e)){const r=[];for(const i of e)r.push(u(i,t,{encode:n}));return r}{const r={};for(const[i,a]of Object.entries(e))r[u(i,t,{encode:n})]=a;return r}}function f(e,t){return t?.active?d(e,t.name,{encode:!0}):e}const g={get:async function(e=null,{area:t="local",context:n=null}={}){return await l({area:t}),function(e,t){return t?.active?d(e,t.name,{encode:!1}):e}(await a.storage[t].get(f(e,n)),n)},set:async function(e,{area:t="local",context:n=null}={}){return await l({area:t}),a.storage[t].set(f(e,n))},remove:async function(e,{area:t="local",context:n=null}={}){return await l({area:t}),a.storage[t].remove(f(e,n))},clear:async function({area:e="local"}={}){return await l({area:e}),a.storage[e].clear()}}},8618:(e,t,n)=>{"use strict";n.d(t,{$u:()=>c,Fr:()=>b,GW:()=>R,HG:()=>l,I4:()=>w,Jh:()=>D,Ky:()=>k,PG:()=>E,Qw:()=>N,T6:()=>y,ZC:()=>A,Zr:()=>L,aI:()=>u,aU:()=>T,ag:()=>M,bK:()=>O,bY:()=>d,cD:()=>S,dX:()=>_,e6:()=>f,hw:()=>j,kL:()=>g,m0:()=>m,q4:()=>o,s_:()=>C,uo:()=>h,wP:()=>P,wT:()=>v}),n(9362);var r=n(9711),i=n(786),a=(n(4719),n(4729)),s=n(7272);function o(e,t){return s.i18n.getMessage(e,t)}function c({files:e=null,css:t=null,tabId:n=null,frameIds:r=[0],allFrames:i=!1,origin:o="USER"}){if(a.tn){const c={target:{tabId:n,allFrames:i}};return i||(c.target.frameIds=r),e?c.files=e:c.css=t,"safari"!==a.Dm&&(c.origin=o),s.scripting.insertCSS(c)}{const t={frameId:r[0]};return e?t.file=e[0]:t.code=code,s.tabs.insertCSS(n,t)}}async function l({files:e=null,func:t=null,args:n=null,tabId:r=null,frameIds:i=[0],allFrames:o=!1,world:c="ISOLATED",injectImmediately:l=!0,unwrapResults:u=!0,code:d=""}){if(a.tn){const d={target:{tabId:r,allFrames:o},world:c};o||(d.target.frameIds=i),e?d.files=e:(d.func=t,n&&(d.args=n)),"safari"!==a.Dm&&(d.injectImmediately=l);const f=await s.scripting.executeScript(d);return u?f.map((e=>e.result)):f}{const t={frameId:i[0]};return e?t.file=e[0]:t.code=d,l&&(t.runAt="document_start"),s.tabs.executeScript(r,t)}}async function u({url:e="",token:t="",index:n=null,active:r=!0,openerTabId:i=null,getTab:o=!1}={}){e||(e=d(t));const c={url:e,active:r};null!==n&&(c.index=n),null!==i&&(c.openerTabId=i);let l=await s.tabs.create(c);if(o){if("samsung"===a.Dm){let t=1;for(;t<=500&&(!l||l.url!==e);)[l]=await s.tabs.query({lastFocusedWindow:!0,url:e}),await U(20),t+=1}return l}}function d(e){return e||(e=(0,r.A)()),`${s.runtime.getURL("/src/tab/index.html")}?id=${e}`}async function f(){const[e]=await s.tabs.query({lastFocusedWindow:!0,active:!0});return e}async function g({tab:e,tabId:t=null}={}){if(e||null===t||(e=await s.tabs.get(t).catch((e=>null))),e&&e.id!==s.tabs.TAB_ID_NONE)return!0}let p;async function h(){if(!function(){const e=a.tn?s.runtime.getURL("/src/background/script.js"):s.runtime.getURL("/src/background/index.html");return self.location.href===e}())return s.runtime.sendMessage({id:"getPlatform"});let{os:e,arch:t}=await async function(){if(p)return p;if(a.tn)({platformInfo:p}=await i.Ay.get("platformInfo",{area:"session"}));else try{p=JSON.parse(window.sessionStorage.getItem("platformInfo"))}catch(e){}if(!p){let e,t;if("samsung"===a.Dm?(e="android",t=""):"safari"===a.Dm?({os:e,arch:t}=await s.runtime.sendNativeMessage("application.id",{id:"getPlatformInfo"})):({os:e,arch:t}=await s.runtime.getPlatformInfo()),p={os:e,arch:t},a.tn)await i.Ay.set({platformInfo:p},{area:"session"});else try{window.sessionStorage.setItem("platformInfo",JSON.stringify(p))}catch(e){}}return p}();"win"===e?e="windows":"mac"===e&&(e="macos"),["x86-32","i386"].includes(t)?t="386":["x86-64","x86_64"].includes(t)?t="amd64":t.startsWith("arm")&&(t="arm");const n="windows"===e,r="macos"===e,o="linux"===e,c="android"===e,l="ios"===e,u="ipados"===e,d=["android","ios","ipados"].includes(e),f="chrome"===a.Dm,g=["chrome","edge"].includes(a.Dm)&&/\sedg(?:e|a|ios)?\//i.test(navigator.userAgent),h="firefox"===a.Dm,m=["chrome","opera"].includes(a.Dm)&&/\sopr\//i.test(navigator.userAgent),b="safari"===a.Dm,y="samsung"===a.Dm;return{os:e,arch:t,targetEnv:a.Dm,isWindows:n,isMacos:r,isLinux:o,isAndroid:c,isIos:l,isIpados:u,isMobile:d,isChrome:f,isEdge:g,isFirefox:h,isOpera:m,isSafari:b,isSamsung:y}}async function m(){return(await h()).isAndroid}async function b(){return(await h()).isMobile}function y(){return window.matchMedia("(prefers-color-scheme: dark)")}function w(e){return e||(e=Date.now()),e-e%864e5}function v(){try{const{hostname:e}=new URL(s.runtime.getURL("/src/background/script.js"));return e}catch(e){}return null}function x(e){return void 0!==e.convertToBlob}function _(e,t,{offscreen:n=!0,contextType:r="2d"}={}){let i,a;return n?i=new OffscreenCanvas(e,t):(i=document.createElement("canvas"),i.width=e,i.height=t),r&&(a=i.getContext(r)),{cnv:i,ctx:a}}async function A(e,{ctx:t,type:n="image/png",quality:r=.8,clear:i=!0}={}){let a;if(t||(t=e.getContext("2d")),x(e)){const t=await e.convertToBlob({type:n,quality:r}).catch((e=>null));t&&(a=await R(t))}else try{a=e.toDataURL(n,r)}catch(e){}return i&&t.clearRect(0,0,e.width,e.height),a}async function E(e,{ctx:t,type:n="image/png",quality:r=.8,clear:i=!0}={}){function a(){i&&t.clearRect(0,0,e.width,e.height)}if(t||(t=e.getContext("2d")),x(e)){let t;try{t=await e.convertToBlob({type:n,quality:r})}catch(e){}finally{a()}return t}return new Promise((t=>{try{e.toBlob((function(e){a(),t(e)}),n,r)}catch(e){a(),t()}}))}function S(e){return e.slice(0,100).split(",")[0].split(":")[1].split(";")[0].toLowerCase()}function I(e){const[t,n]=e.split(",");let r;r=t.endsWith(";base64")?atob(n):unescape(n);const i=r.length,a=new Uint8Array(new ArrayBuffer(i));for(let e=0;e<i;e++)a[e]=r.charCodeAt(e);return a}async function k(e){return new Uint8Array(await new Response(e).arrayBuffer())}function T(e){return new Blob([I(e)],{type:S(e)})}function R(e){return new Promise((t=>{const n=new FileReader;n.onload=e=>{t(e.target.result)},n.onerror=()=>{t()},n.onabort=()=>{t()},n.readAsDataURL(e)}))}function j(e,t){return Math.floor(Math.random()*(t-e+1))+e}function L(e,{locale:t="en-US"}={}){return e.replace(/^\p{CWU}/u,(e=>e.toLocaleUpperCase(t)))}function M(e,{locale:t="en-US"}={}){return e.replace(/^\p{CWL}/u,(e=>e.toLocaleLowerCase(t)))}function*O(e,t){let n=0;for(;n<e.length;){const r=Math.min(n+t,e.length);yield e.slice(n,r),n=r}}function C(e){return parseInt(e,10)}function P(e){const t=e.split("/").pop().replace(/(?:#|\?).*?$/,"").split(".");let n="",r="";return 1===t.length?n=t[0]:(n=t.join("."),r=t.pop().toLowerCase()),{name:n,ext:r}}function N(e){return(/(?:\.([^.]+))?$/.exec(e)[1]||"").toLowerCase()}function D(e,t){const n=function(e,{content:t=null}={}){return e=`${e}Store`,self[e]||(self[e]=t||{}),self[e]}("run");if(!n[e])return n[e]=!0,!t||t()}function U(e){return new Promise((t=>self.setTimeout(t,e)))}},4729:(e,t,n)=>{"use strict";n.d(t,{CU:()=>s,Dm:()=>r,QB:()=>a,ZY:()=>i,tn:()=>o});const r="chrome",i=!0,a={local:"20240624161944_remove_search_engines",session:"20240514122825_initial_version"},s="7.1.0",o=!0},4719:(e,t,n)=>{"use strict";n.d(t,{y:()=>i}),n(9362);const r={makeDocumentVisible:function(e){let t=document.visibilityState;document.addEventListener(e,(function(e){t=e.detail}),{capture:!0});let n=0;function r(e){e.preventDefault(),e.stopImmediatePropagation()}window.requestAnimationFrame=new Proxy(window.requestAnimationFrame,{apply(e,r,i){if("visible"===t)return Reflect.apply(e,r,i);{const e=Date.now(),t=Math.max(0,16-(e-n));return n=e+t,window.setTimeout((function(){i[0](performance.now())}),t)}}}),window.cancelAnimationFrame=new Proxy(window.cancelAnimationFrame,{apply(e,n,r){if("visible"===t)return Reflect.apply(e,n,r);window.clearTimeout(r[0])}}),Object.defineProperty(document,"visibilityState",{get:()=>"visible"}),Object.defineProperty(document,"hidden",{get:()=>!1}),Document.prototype.hasFocus=function(){return!0},window.addEventListener("pagehide",r,{capture:!0}),window.addEventListener("blur",r,{capture:!0}),document.dispatchEvent(new Event("visibilitychange")),window.dispatchEvent(new PageTransitionEvent("pageshow")),window.dispatchEvent(new FocusEvent("focus"))},setFileInputData:function(e){const t=function(e){e.stopImmediatePropagation(),window.clearTimeout(n),function(e){const t=function(e,t,n){const[r,i]=e.split(",");let a;a=r.endsWith(";base64")?atob(i):unescape(i);const s=a.length,o=new Uint8Array(new ArrayBuffer(s));for(let e=0;e<s;e++)o[e]=a.charCodeAt(e);return new File([o],n,{type:t})}(e.imageDataUrl,e.imageType,e.imageFilename),n=new class extends Array{item(e){return this[e]}}(t),r=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"files"),i=r.get;r.get=function(){const t=document.querySelector(e.selector);return this.isSameNode(t)?n:i.apply(this)},Object.defineProperty(HTMLInputElement.prototype,"files",r)}(JSON.parse(e.detail))},n=window.setTimeout((function(){document.removeEventListener(e,t,{capture:!0,once:!0})}),1e4);document.addEventListener(e,t,{capture:!0,once:!0})},hideAlert:function(){window.alert=function(){}},lexicaOverrideEventDispatch:function(){const e=HTMLInputElement.prototype.dispatchEvent;HTMLInputElement.prototype.dispatchEvent=function(t){"file"===this.type&&"click"===t.type?HTMLInputElement.prototype.dispatchEvent=e:e.apply(this,arguments)}},taobaoPatchContext:function(){const e=Element.prototype.appendChild;Element.prototype.appendChild=function(t){return"file"===t.type&&(t.addEventListener("click",(e=>e.preventDefault()),{capture:!0,once:!0}),Element.prototype.appendChild=e),e.apply(this,arguments)};const t=window.open;window.open=function(e){if(!e.includes("/tmw/search_image"))return t.apply(this,arguments);window.location.replace(e)}},yandexServiceObserver:function(e){let t;const n=function(){window.Ya?.reactBus?.e["cbir:search-by-image:start"]?.length>=4?(window.clearTimeout(r),document.dispatchEvent(new Event(e))):t||window.setTimeout(n,200)},r=window.setTimeout((function(){t=!0}),6e4);n()}};function i(e){return r[e]}},7249:(e,t,n)=>{var r={"./local/20210820184257_support_event_pages.js":4534,"./local/20210919175209_add_image_sharing_options.js":1670,"./local/20210928090443_add_unsplash.js":7867,"./local/20211011114043_configure_engines.js":4016,"./local/20211106103932_add_shein.js":405,"./local/20211111071410_add_lykdat.js":2276,"./local/20211204124507_add_wildberries.js":8722,"./local/20211213014048_add_lastengineaccesscheck.js":4948,"./local/20211213191049_add_setcontextmenuevent.js":5959,"./local/20220108063511_add_google_lens.js":8322,"./local/20220321163741_add_clipboard_support.js":5013,"./local/20220505174634_detect_alternative_image_sizes.js":6730,"./local/20220516051842_update_search_mode_ids.js":4784,"./local/20220516124148_open_images.js":314,"./local/20220814142801_configure_engines.js":388,"./local/20220924083846_add_lexica.js":1745,"./local/20230415111029_add_theme_support.js":9915,"./local/20230531103023_remove_search_engines.js":3797,"./local/20230601115626_add_kagi.js":9524,"./local/20230624145626_add_search_engines.js":6390,"./local/20230716121432_add_freepik.js":6673,"./local/20231009185955_remove_unsplash.js":420,"./local/20231102164602_add_icons8.js":9159,"./local/20240514170322_add_appversion.js":3159,"./local/20240529183556_update_search_engines.js":7021,"./local/20240619180111_add_menuchangeevent.js":38,"./local/20240624161944_remove_search_engines.js":7911,"./local/BJXdcUXOG.js":1172,"./local/BJguWEHcbz.js":9981,"./local/Bk42MzXdW.js":9925,"./local/HJ5MKKGhW.js":864,"./local/Hy1tD8ANb.js":1999,"./local/IMMjiccGj.js":897,"./local/K9Esw2jiQ3.js":7636,"./local/LX20x6G8l.js":935,"./local/S18hLi5tG.js":1353,"./local/S1ebtZ3Uzz.js":521,"./local/S1kNNadHZ.js":8488,"./local/SJzIWmjKz.js":397,"./local/ShjDMM87.js":3362,"./local/SklYTwQOYf.js":9811,"./local/SkwaU8NlX.js":389,"./local/Syy800KkQ.js":2888,"./local/TshBYj8anA.js":8302,"./local/UhWEtK9gMh.js":9849,"./local/d8CIdomCW.js":7164,"./local/d8IK4KCtVm.js":1075,"./local/ekhOvNiTsF.js":2701,"./local/ggrr9C9pgV.js":6794,"./local/r1H3rgx1X.js":7462,"./local/r1Pvd36nz.js":8546,"./local/ryY8H0EWf.js":7132,"./local/ryekyizAg.js":4781,"./local/yLciyvS5He.js":1233,"./session/20240514122825_initial_version.js":211};function i(e){return a(e).then(n)}function a(e){return Promise.resolve().then((()=>{if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}))}i.keys=()=>Object.keys(r),i.resolve=a,i.id=7249,e.exports=i},2365:(e,t,n)=>{"use strict";var r=n(9200),i=n(7938),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a function")}},9677:(e,t,n)=>{"use strict";var r=n(100),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},602:(e,t,n)=>{"use strict";var r=n(2430),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},4398:(e,t,n)=>{"use strict";var r=n(9131),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not an object")}},6134:(e,t,n)=>{"use strict";var r=n(4360),i=n(8479),a=n(7457),s=function(e){return function(t,n,s){var o=r(t),c=a(o);if(0===c)return!e&&-1;var l,u=i(s,c);if(e&&n!=n){for(;c>u;)if((l=o[u++])!=l)return!0}else for(;c>u;u++)if((e||u in o)&&o[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},5589:(e,t,n)=>{"use strict";var r=n(7133),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},3650:(e,t,n)=>{"use strict";var r=n(917),i=n(9200),a=n(5589),s=n(4702)("toStringTag"),o=Object,c="Arguments"===a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?n:c?a(t):"Object"===(r=a(t))&&i(t.callee)?"Arguments":r}},4085:(e,t,n)=>{"use strict";var r=n(9158),i=n(4540),a=n(2428),s=n(4446);e.exports=function(e,t,n){for(var o=i(t),c=s.f,l=a.f,u=0;u<o.length;u++){var d=o[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},5044:(e,t,n)=>{"use strict";var r=n(6857),i=n(4446),a=n(2007);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},2007:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8521:(e,t,n)=>{"use strict";var r=n(9200),i=n(4446),a=n(4174),s=n(8466);e.exports=function(e,t,n,o){o||(o={});var c=o.enumerable,l=void 0!==o.name?o.name:t;if(r(n)&&a(n,l,o),o.global)c?e[t]=n:s(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},8466:(e,t,n)=>{"use strict";var r=n(7732),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6857:(e,t,n)=>{"use strict";var r=n(942);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1466:(e,t,n)=>{"use strict";var r=n(7732),i=n(9131),a=r.document,s=i(a)&&i(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},4131:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},1681:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4017:(e,t,n)=>{"use strict";var r,i,a=n(7732),s=n(1681),o=a.process,c=a.Deno,l=o&&o.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},2030:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5824:(e,t,n)=>{"use strict";var r=n(7133),i=Error,a=r("".replace),s=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},3353:(e,t,n)=>{"use strict";var r=n(7732),i=n(2428).f,a=n(5044),s=n(8521),o=n(8466),c=n(4085),l=n(7453);e.exports=function(e,t){var n,u,d,f,g,p=e.target,h=e.global,m=e.stat;if(n=h?r:m?r[p]||o(p,{}):r[p]&&r[p].prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(g=i(n,u))&&g.value:n[u],!l(h?u:p+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),s(n,u,f,e)}}},942:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},7315:(e,t,n)=>{"use strict";var r=n(942);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},492:(e,t,n)=>{"use strict";var r=n(7315),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},7403:(e,t,n)=>{"use strict";var r=n(6857),i=n(9158),a=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,o=i(a,"name"),c=o&&"something"===function(){}.name,l=o&&(!r||r&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:l}},9229:(e,t,n)=>{"use strict";var r=n(7133),i=n(2365);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},7133:(e,t,n)=>{"use strict";var r=n(7315),i=Function.prototype,a=i.call,s=r&&i.bind.bind(a,a);e.exports=r?s:function(e){return function(){return a.apply(e,arguments)}}},848:(e,t,n)=>{"use strict";var r=n(7732),i=n(9200);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},9325:(e,t,n)=>{"use strict";var r=n(2365),i=n(2178);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},7732:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9158:(e,t,n)=>{"use strict";var r=n(7133),i=n(9272),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},640:e=>{"use strict";e.exports={}},5842:(e,t,n)=>{"use strict";var r=n(6857),i=n(942),a=n(1466);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8060:(e,t,n)=>{"use strict";var r=n(7133),i=n(942),a=n(5589),s=Object,o=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?o(e,""):s(e)}:s},2210:(e,t,n)=>{"use strict";var r=n(9200),i=n(9131),a=n(8018);e.exports=function(e,t,n){var s,o;return a&&r(s=t.constructor)&&s!==n&&i(o=s.prototype)&&o!==n.prototype&&a(e,o),e}},7217:(e,t,n)=>{"use strict";var r=n(7133),i=n(9200),a=n(5210),s=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},1514:(e,t,n)=>{"use strict";var r,i,a,s=n(3125),o=n(7732),c=n(9131),l=n(5044),u=n(9158),d=n(5210),f=n(2316),g=n(640),p="Object already initialized",h=o.TypeError,m=o.WeakMap;if(s||d.state){var b=d.state||(d.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw new h(p);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},a=function(e){return b.has(e)}}else{var y=f("state");g[y]=!0,r=function(e,t){if(u(e,y))throw new h(p);return t.facade=e,l(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return n}}}},9200:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},7453:(e,t,n)=>{"use strict";var r=n(942),i=n(9200),a=/#|\.prototype\./,s=function(e,t){var n=c[o(e)];return n===u||n!==l&&(i(t)?r(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},2178:e=>{"use strict";e.exports=function(e){return null==e}},9131:(e,t,n)=>{"use strict";var r=n(9200);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},100:(e,t,n)=>{"use strict";var r=n(9131);e.exports=function(e){return r(e)||null===e}},1818:e=>{"use strict";e.exports=!1},460:(e,t,n)=>{"use strict";var r=n(848),i=n(9200),a=n(2430),s=n(6253),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,o(e))}},7457:(e,t,n)=>{"use strict";var r=n(2695);e.exports=function(e){return r(e.length)}},4174:(e,t,n)=>{"use strict";var r=n(7133),i=n(942),a=n(9200),s=n(9158),o=n(6857),c=n(7403).CONFIGURABLE,l=n(7217),u=n(1514),d=u.enforce,f=u.get,g=String,p=Object.defineProperty,h=r("".slice),m=r("".replace),b=r([].join),y=o&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),w=String(String).split("String"),v=e.exports=function(e,t,n){"Symbol("===h(g(t),0,7)&&(t="["+m(g(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(o?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return s(r,"source")||(r.source=b(w,"string"==typeof t?t:"")),e};Function.prototype.toString=v((function(){return a(this)&&f(this).source||l(this)}),"toString")},8226:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},5334:(e,t,n)=>{"use strict";var r=n(7830);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},4446:(e,t,n)=>{"use strict";var r=n(6857),i=n(5842),a=n(335),s=n(4398),o=n(2548),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",g="writable";t.f=r?a?function(e,t,n){if(s(e),t=o(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&g in n&&!n[g]){var r=u(e,t);r&&r[g]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=o(t),s(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2428:(e,t,n)=>{"use strict";var r=n(6857),i=n(492),a=n(6732),s=n(2007),o=n(4360),c=n(2548),l=n(9158),u=n(5842),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=o(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return s(!i(a.f,e,t),e[t])}},5809:(e,t,n)=>{"use strict";var r=n(8959),i=n(2030).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},1264:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},2430:(e,t,n)=>{"use strict";var r=n(7133);e.exports=r({}.isPrototypeOf)},8959:(e,t,n)=>{"use strict";var r=n(7133),i=n(9158),a=n(4360),s=n(6134).indexOf,o=n(640),c=r([].push);e.exports=function(e,t){var n,r=a(e),l=0,u=[];for(n in r)!i(o,n)&&i(r,n)&&c(u,n);for(;t.length>l;)i(r,n=t[l++])&&(~s(u,n)||c(u,n));return u}},6732:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8018:(e,t,n)=>{"use strict";var r=n(9229),i=n(9131),a=n(3977),s=n(9677);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return a(n),s(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},1427:(e,t,n)=>{"use strict";var r=n(492),i=n(9200),a=n(9131),s=TypeError;e.exports=function(e,t){var n,o;if("string"===t&&i(n=e.toString)&&!a(o=r(n,e)))return o;if(i(n=e.valueOf)&&!a(o=r(n,e)))return o;if("string"!==t&&i(n=e.toString)&&!a(o=r(n,e)))return o;throw new s("Can't convert object to primitive value")}},4540:(e,t,n)=>{"use strict";var r=n(848),i=n(7133),a=n(5809),s=n(1264),o=n(4398),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=s.f;return n?c(t,n(e)):t}},3977:(e,t,n)=>{"use strict";var r=n(2178),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},2316:(e,t,n)=>{"use strict";var r=n(6014),i=n(685),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5210:(e,t,n)=>{"use strict";var r=n(1818),i=n(7732),a=n(8466),s="__core-js_shared__",o=e.exports=i[s]||a(s,{});(o.versions||(o.versions=[])).push({version:"3.37.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6014:(e,t,n)=>{"use strict";var r=n(5210);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},260:(e,t,n)=>{"use strict";var r=n(4017),i=n(942),a=n(7732).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8479:(e,t,n)=>{"use strict";var r=n(4932),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},4360:(e,t,n)=>{"use strict";var r=n(8060),i=n(3977);e.exports=function(e){return r(i(e))}},4932:(e,t,n)=>{"use strict";var r=n(8226);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},2695:(e,t,n)=>{"use strict";var r=n(4932),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},9272:(e,t,n)=>{"use strict";var r=n(3977),i=Object;e.exports=function(e){return i(r(e))}},9422:(e,t,n)=>{"use strict";var r=n(492),i=n(9131),a=n(460),s=n(9325),o=n(1427),c=n(4702),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,c=s(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||a(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},2548:(e,t,n)=>{"use strict";var r=n(9422),i=n(460);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},917:(e,t,n)=>{"use strict";var r={};r[n(4702)("toStringTag")]="z",e.exports="[object z]"===String(r)},7830:(e,t,n)=>{"use strict";var r=n(3650),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},7938:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},685:(e,t,n)=>{"use strict";var r=n(7133),i=0,a=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+a,36)}},6253:(e,t,n)=>{"use strict";var r=n(260);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},335:(e,t,n)=>{"use strict";var r=n(6857),i=n(942);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3125:(e,t,n)=>{"use strict";var r=n(7732),i=n(9200),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},4702:(e,t,n)=>{"use strict";var r=n(7732),i=n(6014),a=n(9158),s=n(685),o=n(260),c=n(6253),l=r.Symbol,u=i("wks"),d=c?l.for||l:l&&l.withoutSetter||s;e.exports=function(e){return a(u,e)||(u[e]=o&&a(l,e)?l[e]:d("Symbol."+e)),u[e]}},9362:(e,t,n)=>{"use strict";var r=n(3353),i=n(7732),a=n(848),s=n(2007),o=n(4446).f,c=n(9158),l=n(602),u=n(2210),d=n(5334),f=n(4131),g=n(5824),p=n(6857),h=n(1818),m="DOMException",b=a("Error"),y=a(m),w=function(){l(this,v);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=new b(t);return i.name=m,o(r,"stack",s(1,g(i.stack,1))),u(r,this,w),r},v=w.prototype=y.prototype,x="stack"in new b(m),_="stack"in new y(1,2),A=y&&p&&Object.getOwnPropertyDescriptor(i,m),E=!(!A||A.writable&&A.configurable),S=x&&!E&&!_;r({global:!0,constructor:!0,forced:h||S},{DOMException:S?w:y});var I=a(m),k=I.prototype;if(k.constructor!==I)for(var T in h||o(k,"constructor",s(1,I)),f)if(c(f,T)){var R=f[T],j=R.s;c(I,j)||o(I,j,s(6,R.c))}},8977:e=>{"use strict";e.exports=JSON.parse('{"revisions":{"local":["ryekyizAg","Hy1tD8ANb","S1kNNadHZ","Bk42MzXdW","HJ5MKKGhW","ryY8H0EWf","BJguWEHcbz","S1ebtZ3Uzz","BJXdcUXOG","SklYTwQOYf","S18hLi5tG","SJzIWmjKz","r1Pvd36nz","r1H3rgx1X","Syy800KkQ","SkwaU8NlX","yLciyvS5He","ekhOvNiTsF","ShjDMM87","LX20x6G8l","d8CIdomCW","d8IK4KCtVm","UhWEtK9gMh","TshBYj8anA","ggrr9C9pgV","IMMjiccGj","K9Esw2jiQ3","20210820184257_support_event_pages","20210919175209_add_image_sharing_options","20210928090443_add_unsplash","20211011114043_configure_engines","20211106103932_add_shein","20211111071410_add_lykdat","20211204124507_add_wildberries","20211213014048_add_lastengineaccesscheck","20211213191049_add_setcontextmenuevent","20220108063511_add_google_lens","20220321163741_add_clipboard_support","20220505174634_detect_alternative_image_sizes","20220516051842_update_search_mode_ids","20220516124148_open_images","20220814142801_configure_engines","20220924083846_add_lexica","20230415111029_add_theme_support","20230531103023_remove_search_engines","20230601115626_add_kagi","20230624145626_add_search_engines","20230716121432_add_freepik","20231009185955_remove_unsplash","20231102164602_add_icons8","20240514170322_add_appversion","20240529183556_update_search_engines","20240619180111_add_menuchangeevent","20240624161944_remove_search_engines"],"session":["20240514122825_initial_version"]}}')}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(a,s),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=i(9711),t=i(4143);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}class r extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const a=e=>void 0===globalThis.DOMException?new r(e):new DOMException(e),s=e=>{const t=void 0===e.reason?a("This operation was aborted."):e.reason;return t instanceof Error?t:a(t)};class o{#e=[];enqueue(e,t){const n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this.#e[this.size-1].priority>=t.priority)return void this.#e.push(n);const r=function(e,t,n){let r=0,i=e.length;for(;i>0;){const n=Math.trunc(i/2);let s=r+n;a=e[s],t.priority-a.priority<=0?(r=++s,i-=n+1):i=n}var a;return r}(this.#e,n);this.#e.splice(r,0,n)}dequeue(){const e=this.#e.shift();return e?.run}filter(e){return this.#e.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this.#e.length}}class c extends t{#t;#n;#r=0;#i;#a;#s=0;#o;#c;#e;#l;#u=0;#d;#f;#g;timeout;constructor(e){if(super(),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:o,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap?.toString()??""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval?.toString()??""}\` (${typeof e.interval})`);this.#t=e.carryoverConcurrencyCount,this.#n=e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,this.#i=e.intervalCap,this.#a=e.interval,this.#e=new e.queueClass,this.#l=e.queueClass,this.concurrency=e.concurrency,this.timeout=e.timeout,this.#g=!0===e.throwOnTimeout,this.#f=!1===e.autoStart}get#p(){return this.#n||this.#r<this.#i}get#h(){return this.#u<this.#d}#m(){this.#u--,this.#b(),this.emit("next")}#y(){this.#w(),this.#v(),this.#c=void 0}get#x(){const e=Date.now();if(void 0===this.#o){const t=this.#s-e;if(!(t<0))return void 0===this.#c&&(this.#c=setTimeout((()=>{this.#y()}),t)),!0;this.#r=this.#t?this.#u:0}return!1}#b(){if(0===this.#e.size)return this.#o&&clearInterval(this.#o),this.#o=void 0,this.emit("empty"),0===this.#u&&this.emit("idle"),!1;if(!this.#f){const e=!this.#x;if(this.#p&&this.#h){const t=this.#e.dequeue();return!!t&&(this.emit("active"),t(),e&&this.#v(),!0)}}return!1}#v(){this.#n||void 0!==this.#o||(this.#o=setInterval((()=>{this.#w()}),this.#a),this.#s=Date.now()+this.#a)}#w(){0===this.#r&&0===this.#u&&this.#o&&(clearInterval(this.#o),this.#o=void 0),this.#r=this.#t?this.#u:0,this.#_()}#_(){for(;this.#b(););}get concurrency(){return this.#d}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this.#d=e,this.#_()}async#A(e){return new Promise(((t,n)=>{e.addEventListener("abort",(()=>{n(e.reason)}),{once:!0})}))}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:this.#g,...t},new Promise(((r,i)=>{this.#e.enqueue((async()=>{this.#u++,this.#r++;try{t.signal?.throwIfAborted();let i=e({signal:t.signal});t.timeout&&(i=function(e,t){const{milliseconds:r,fallback:i,message:a,customTimers:o={setTimeout,clearTimeout}}=t;let c;const l=new Promise(((l,u)=>{if("number"!=typeof r||1!==Math.sign(r))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${r}\``);if(t.signal){const{signal:e}=t;e.aborted&&u(s(e)),e.addEventListener("abort",(()=>{u(s(e))}))}if(r===Number.POSITIVE_INFINITY)return void e.then(l,u);const d=new n;c=o.setTimeout.call(void 0,(()=>{if(i)try{l(i())}catch(e){u(e)}else"function"==typeof e.cancel&&e.cancel(),!1===a?l():a instanceof Error?u(a):(d.message=a??`Promise timed out after ${r} milliseconds`,u(d))}),r),(async()=>{try{l(await e)}catch(e){u(e)}})()})).finally((()=>{l.clear()}));return l.clear=()=>{o.clearTimeout.call(void 0,c),c=void 0},l}(Promise.resolve(i),{milliseconds:t.timeout})),t.signal&&(i=Promise.race([i,this.#A(t.signal)]));const a=await i;r(a),this.emit("completed",a)}catch(e){if(e instanceof n&&!t.throwOnTimeout)return void r();i(e),this.emit("error",e)}finally{this.#m()}}),t),this.emit("add"),this.#b()}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this.#f?(this.#f=!1,this.#_(),this):this}pause(){this.#f=!0}clear(){this.#e=new this.#l}async onEmpty(){0!==this.#e.size&&await this.#E("empty")}async onSizeLessThan(e){this.#e.size<e||await this.#E("next",(()=>this.#e.size<e))}async onIdle(){0===this.#u&&0===this.#e.size||await this.#E("idle")}async#E(e,t){return new Promise((n=>{const r=()=>{t&&!t()||(this.off(e,r),n())};this.on(e,r)}))}get size(){return this.#e.size}sizeBy(e){return this.#e.filter(e).length}get pending(){return this.#u}get isPaused(){return this.#f}}const l=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},u=function(e,t){return e===t||e!=e&&t!=t},d="object"==typeof global&&global&&global.Object===Object&&global;var f="object"==typeof self&&self&&self.Object===Object&&self;const g=d||f||Function("return this")(),p=g.Symbol;var h=Object.prototype,m=h.hasOwnProperty,b=h.toString,y=p?p.toStringTag:void 0;var w=Object.prototype.toString;var v=p?p.toStringTag:void 0;const x=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":v&&v in Object(e)?function(e){var t=m.call(e,y),n=e[y];try{e[y]=void 0;var r=!0}catch(e){}var i=b.call(e);return r&&(t?e[y]=n:delete e[y]),i}(e):function(e){return w.call(e)}(e)},_=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},A=function(e){if(!_(e))return!1;var t=x(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},E=function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!A(e)};var S=/^(?:0|[1-9]\d*)$/;const I=function(e,t,n){if(!_(n))return!1;var r=typeof t;return!!("number"==r?E(n)&&function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&S.test(e))&&e>-1&&e%1==0&&e<t}(t,n.length):"string"==r&&t in n)&&u(n[t],e)};var k=/\s/;var T=/^\s+/;const R=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&k.test(e.charAt(t)););return t}(e)+1).replace(T,""):e},j=function(e){return null!=e&&"object"==typeof e};var L=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,O=/^0o[0-7]+$/i,C=parseInt;const P=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||j(e)&&"[object Symbol]"==x(e)}(e))return NaN;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=R(e);var n=M.test(e);return n||O.test(e)?C(e.slice(2),n?2:8):L.test(e)?NaN:+e};var N=1/0;const D=function(e){var t=function(e){return e?(e=P(e))===N||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0},U=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&I(e,t,n)?(t=0,n=r):(t=null==t?0:D(t),n=void 0===n?r:D(n)),function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}(e,t,n)):[]},B=function(e){return e!=e},F=function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,B,n)};var $=Math.max;const W=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:D(n);return i<0&&(i=$(r+i,0)),F(e,t,i)};var z=i(786),q=i(7272);async function V({area:e="local",data:t=null,silent:n=!1}={}){const r={getAvailableRevisions:async({area:e}={})=>(await Promise.resolve().then(i.t.bind(i,8977,19))).revisions[e],getCurrentRevision:async({area:e}={})=>(await q.storage[e].get("storageVersion")).storageVersion,getRevision:async({area:e,revision:t}={})=>i(7249)(`./${e}/${t}.js`)};return"local"===e&&await async function(){if(await(0,z.Hu)({area:"sync"})){const{storageVersion:e}=await q.storage.sync.get("storageVersion");if(e&&e.length<14){const{storageVersion:e}=await q.storage.local.get("storageVersion");if(!e||e.length<14){const e=await q.storage.sync.get(null);await q.storage.local.clear(),await q.storage.local.set(e),await q.storage.sync.clear()}}}}(),async function(e,{area:t="local",data:n=null,silent:r=!1}={}){return async function(e,{area:t="local",data:n=null,silent:r=!1}={}){const i=await e.getAvailableRevisions({area:t}),a=await e.getCurrentRevision({area:t}),s=l(i);if(a===s)return;const o=U(i,W(i,a)+1,W(i,s)+1);r||console.log(`Migrating storage (${t}): ${a} => ${s}`);for(const i of o){const a=await e.getRevision({area:t,revision:i});r||console.log(`Applying revision (${t}): ${a.revision} - ${a.message}`),await a.upgrade(n)}}(e,{area:t,data:n,silent:r})}(r,{area:e,data:t,silent:n})}const H=g["__core-js_shared__"];var G,K=(G=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"";var Y=Function.prototype.toString;var X=/^\[object .+?Constructor\]$/,J=Function.prototype,Q=Object.prototype,Z=J.toString,ee=Q.hasOwnProperty,te=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ne=function(e){return!(!_(e)||(t=e,K&&K in t))&&(A(e)?te:X).test(function(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t},re=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ne(n)?n:void 0},ie=re(Object,"create");var ae=Object.prototype.hasOwnProperty;var se=Object.prototype.hasOwnProperty;function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oe.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},oe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},oe.prototype.get=function(e){var t=this.__data__;if(ie){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ae.call(t,e)?t[e]:void 0},oe.prototype.has=function(e){var t=this.__data__;return ie?void 0!==t[e]:se.call(t,e)},oe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ie&&void 0===t?"__lodash_hash_undefined__":t,this};const ce=oe,le=function(e,t){for(var n=e.length;n--;)if(u(e[n][0],t))return n;return-1};var ue=Array.prototype.splice;function de(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}de.prototype.clear=function(){this.__data__=[],this.size=0},de.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),--this.size,0))},de.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},de.prototype.has=function(e){return le(this.__data__,e)>-1},de.prototype.set=function(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const fe=de,ge=re(g,"Map"),pe=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function he(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}he.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(ge||fe),string:new ce}},he.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},he.prototype.get=function(e){return pe(this,e).get(e)},he.prototype.has=function(e){return pe(this,e).has(e)},he.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const me=he;function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new me;++t<n;)this.add(e[t])}be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},be.prototype.has=function(e){return this.__data__.has(e)};const ye=be,we=function(e,t){return!(null==e||!e.length)&&F(e,t,0)>-1},ve=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},xe=function(e,t){return e.has(t)},_e=function(e,t,n,r){var i,a=-1,s=we,o=!0,c=e.length,l=[],u=t.length;if(!c)return l;n&&(t=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,(i=n,function(e){return i(e)}))),r?(s=ve,o=!1):t.length>=200&&(s=xe,o=!1,t=new ye(t));e:for(;++a<c;){var d=e[a],f=null==n?d:n(d);if(d=r||0!==d?d:0,o&&f==f){for(var g=u;g--;)if(t[g]===f)continue e;l.push(d)}else s(t,f,r)||l.push(d)}return l},Ae=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ee=function(e){return j(e)&&"[object Arguments]"==x(e)};var Se=Object.prototype,Ie=Se.hasOwnProperty,ke=Se.propertyIsEnumerable;const Te=Ee(function(){return arguments}())?Ee:function(e){return j(e)&&Ie.call(e,"callee")&&!ke.call(e,"callee")},Re=Array.isArray;var je=p?p.isConcatSpreadable:void 0;const Le=function(e){return Re(e)||Te(e)||!!(je&&e&&e[je])},Me=function e(t,n,r,i,a){var s=-1,o=t.length;for(r||(r=Le),a||(a=[]);++s<o;){var c=t[s];n>0&&r(c)?n>1?e(c,n-1,r,i,a):Ae(a,c):i||(a[a.length]=c)}return a},Oe=function(e){return e};var Ce=Math.max;const Pe=function(){try{var e=re(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ne=Pe?function(e,t){return Pe(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Oe;var De=Date.now;const Ue=(Be=Ne,Fe=0,$e=0,function(){var e=De(),t=16-(e-$e);if($e=e,t>0){if(++Fe>=800)return arguments[0]}else Fe=0;return Be.apply(void 0,arguments)});var Be,Fe,$e;const We=function(e){return j(e)&&E(e)};var ze=function(e,t){return Ue(function(e,t,n){return t=Ce(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Ce(r.length-t,0),s=Array(a);++i<a;)s[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}(e,void 0,Oe),e+"")}((function(e,t){return We(e)?_e(e,Me(t,1,We,!0)):[]}));const qe=ze;var Ve=i(9922);function He(e){return new DataView(e.buffer,e.byteOffset)}i(1024);const Ge={len:1,get:(e,t)=>He(e).getUint8(t),put:(e,t,n)=>(He(e).setUint8(t,n),t+1)},Ke={len:2,get:(e,t)=>He(e).getUint16(t,!0),put:(e,t,n)=>(He(e).setUint16(t,n,!0),t+2)},Ye={len:2,get:(e,t)=>He(e).getUint16(t),put:(e,t,n)=>(He(e).setUint16(t,n),t+2)},Xe={len:4,get:(e,t)=>He(e).getUint32(t,!0),put:(e,t,n)=>(He(e).setUint32(t,n,!0),t+4)},Je={len:4,get:(e,t)=>He(e).getUint32(t),put:(e,t,n)=>(He(e).setUint32(t,n),t+4)},Qe={len:4,get:(e,t)=>He(e).getInt32(t),put:(e,t,n)=>(He(e).setInt32(t,n),t+4)},Ze={len:8,get:(e,t)=>He(e).getBigUint64(t,!0),put:(e,t,n)=>(He(e).setBigUint64(t,n,!0),t+8)};class et{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return Ve.Buffer.from(e).toString(this.encoding,t,t+this.len)}}class tt{constructor(e){this.len=e}static decode(e,t,n){let r="";for(let i=t;i<n;++i)r+=tt.codePointToString(tt.singleByteDecoder(e[i]));return r}static inRange(e,t,n){return t<=e&&e<=n}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(tt.inRange(e,0,127))return e;const t=tt.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return tt.decode(e,t,t+this.len)}}tt.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];class nt extends Error{constructor(){super("End-Of-Stream")}}class rt{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}class it{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new nt))),this.s.once("error",(e=>this.reject(e))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(e,t,n){const r=await this.read(e,t,n);return this.peekQueue.push(e.subarray(t,t+r)),r}async read(e,t,n){if(0===n)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new nt;let r=n,i=0;for(;this.peekQueue.length>0&&r>0;){const n=this.peekQueue.pop();if(!n)throw new Error("peekData should be defined");const a=Math.min(n.length,r);e.set(n.subarray(0,a),t+i),i+=a,r-=a,a<n.length&&this.peekQueue.push(n.subarray(a))}for(;r>0&&!this.endOfStream;){const n=Math.min(r,1048576),a=await this.readFromStream(e,t+i,n);if(i+=a,a<n)break;r-=a}return i}async readFromStream(e,t,n){const r=this.s.read(n);if(r)return e.set(r,t),r.length;{const r={buffer:e,offset:t,length:n,deferred:new rt};return this.deferred=r.deferred,this.s.once("readable",(()=>{this.readDeferred(r)})),r.deferred.promise}}readDeferred(e){const t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(e)}))}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}class at{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){const n=Ve.Buffer.alloc(e.len);if(await this.readBuffer(n,{position:t})<e.len)throw new nt;return e.get(n,0)}async peekToken(e,t=this.position){const n=Ve.Buffer.alloc(e.len);if(await this.peekBuffer(n,{position:t})<e.len)throw new nt;return e.get(n,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new nt;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new nt;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}class st extends at{constructor(e,t){super(t),this.streamReader=new it(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const n=this.normalizeOptions(e,t),r=n.position-this.position;if(r>0)return await this.ignore(r),this.readBuffer(e,t);if(r<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===n.length)return 0;const i=await this.streamReader.read(e,n.offset,n.length);if(this.position+=i,(!t||!t.mayBeLess)&&i<n.length)throw new nt;return i}async peekBuffer(e,t){const n=this.normalizeOptions(e,t);let r=0;if(n.position){const t=n.position-this.position;if(t>0){const i=new Uint8Array(n.length+t);return r=await this.peekBuffer(i,{mayBeLess:n.mayBeLess}),e.set(i.subarray(t),n.offset),r-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{r=await this.streamReader.peek(e,n.offset,n.length)}catch(e){if(t&&t.mayBeLess&&e instanceof nt)return 0;throw e}if(!n.mayBeLess&&r<n.length)throw new nt}return r}async ignore(e){const t=Math.min(256e3,e),n=new Uint8Array(t);let r=0;for(;r<e;){const i=e-r,a=await this.readBuffer(n,{length:Math.min(t,i)});if(a<0)return a;r+=a}return r}}class ot extends at{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){const n=this.normalizeOptions(e,t),r=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&r<n.length)throw new nt;return e.set(this.uint8Array.subarray(n.position,n.position+r),n.offset),r}async close(){}}const ct={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4},lt=4100;function ut(e,t,n){n={offset:0,...n};for(const[r,i]of t.entries())if(n.mask){if(i!==(n.mask[r]&e[r+n.offset]))return!1}else if(i!==e[r+n.offset])return!1;return!0}class dt{constructor(e){this.detectors=e?.customDetectors,this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(e){const t=e.position;for(const n of this.detectors||[]){const r=await n(e);if(r)return r;if(t!==e.position)return}return this.parse(e)}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(t?.length>1)return this.fromTokenizer(new ot(t,undefined))}async fromBlob(e){const t=await e.arrayBuffer();return this.fromBuffer(new Uint8Array(t))}async fromStream(e){const t=await function(e,t){return new st(e,t=t||{})}(e);try{return await this.fromTokenizer(t)}finally{await t.close()}}async toDetectionStream(e,t={}){const{default:n}=await Promise.resolve().then(i.t.bind(i,3039,19)),{sampleSize:r=lt}=t;return new Promise(((t,i)=>{e.on("error",i),e.once("readable",(()=>{(async()=>{try{const a=new n.PassThrough,s=n.pipeline?n.pipeline(e,a,(()=>{})):e.pipe(a),o=e.read(r)??e.read()??Ve.Buffer.alloc(0);try{a.fileType=await this.fromBuffer(o)}catch(e){e instanceof nt?a.fileType=void 0:i(e)}t(s)}catch(e){i(e)}})()}))}))}check(e,t){return ut(this.buffer,e,t)}checkString(e,t){return this.check((n=e,[...n].map((e=>e.charCodeAt(0)))),t);var n}async parse(e){if(this.buffer=Ve.Buffer.alloc(lt),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);const t=await e.readToken(ct);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(this.buffer,{length:30});const n={compressedSize:this.buffer.readUInt32LE(18),uncompressedSize:this.buffer.readUInt32LE(22),filenameLength:this.buffer.readUInt16LE(26),extraFieldLength:this.buffer.readUInt16LE(28)};if(n.filename=await e.readToken(new et(n.filenameLength,"utf-8")),await e.ignore(n.extraFieldLength),"META-INF/mozilla.rsa"===n.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(n.filename.endsWith(".rels")||n.filename.endsWith(".xml"))switch(n.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(n.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(n.filename.startsWith("3D/")&&n.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===n.filename&&n.compressedSize===n.uncompressedSize){let r=await e.readToken(new et(n.compressedSize,"utf-8"));switch(r=r.trim(),r){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===n.compressedSize){let i=-1;for(;i<0&&e.position<e.fileInfo.size;)await e.peekBuffer(this.buffer,{mayBeLess:!0}),i=this.buffer.indexOf("504B0304",0,"hex"),await e.ignore(i>=0?i:this.buffer.length)}else await e.ignore(n.compressedSize)}}catch(a){if(!(a instanceof nt))throw a}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);const s=Ve.Buffer.alloc(8);return await e.readBuffer(s),ut(s,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:ut(s,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:ut(s,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:ut(s,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:ut(s,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:ut(s,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&96&this.buffer[8]){const o=this.buffer.toString("binary",8,12).replace("\0"," ").trim();switch(o){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return o.startsWith("3g")?o.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await e.ignore(1350);const c=10485760,l=Ve.Buffer.alloc(Math.min(c,e.fileInfo.size));if(await e.readBuffer(l,{mayBeLess:!0}),l.includes(Ve.Buffer.from("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(u){if(!(u instanceof nt))throw u}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const d=await this.readTiffHeader(!1);if(d)return d}if(this.check([77,77])){const f=await this.readTiffHeader(!0);if(f)return f}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function g(){const t=await e.peekNumber(Ge);let n=128,r=0;for(;!(t&n)&&0!==n;)++r,n>>=1;const i=Ve.Buffer.alloc(r+1);return await e.readBuffer(i),i}async function p(){const e=await g(),t=await g();t[0]^=128>>t.length-1;const n=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-n,n)}}async function h(t){for(;t>0;){const n=await p();if(17026===n.id)return(await e.readToken(new et(n.len,"utf-8"))).replaceAll(/\00.*$/g,"");await e.ignore(n.len),--t}}const m=await p();switch(await h(m.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const b=this.buffer.toString("binary",2,6);if(b.match("^d*")&&b>=1e3&&b<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await e.ignore(8),"debian-binary"===await e.readToken(new et(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("**ACE",{offset:7})&&(await e.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function y(){return{length:await e.readToken(Qe),type:await e.readToken(new et(4,"binary"))}}await e.ignore(8);do{const w=await y();if(w.length<0)return;switch(w.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(w.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function v(){const t=Ve.Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Ze))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const x=await v();let _=x.size-24;if(ut(x.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const A=Ve.Buffer.alloc(16);if(_-=await e.readBuffer(A),ut(A,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(ut(A,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(_)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new et(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const E=this.buffer.readUInt32LE(12);if(E>12&&this.buffer.length>=E+16)try{const S=this.buffer.slice(16,E+16).toString();if(JSON.parse(S).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),function(e,t=0){const n=Number.parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(n))return!1;let r=256;for(let n=t;n<t+148;n++)r+=e[n];for(let n=t+156;n<t+512;n++)r+=e[n];return n===r}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(e){const t=await this.tokenizer.readToken(e?Ye:Ke);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){const t=await this.tokenizer.readToken(e?Ye:Ke);for(let n=0;n<t;++n){const t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){const t=(e?Ye:Ke).get(this.buffer,2),n=(e?Je:Xe).get(this.buffer,4);if(42===t){if(n>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(n),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}}new Set(["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx"]),new Set(["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx"]);var ft=i(8618),gt=i(4729),pt=i(7272);const ht=["engines","disabledEngines","showInContextMenu","searchAllEnginesContextMenu","searchAllEnginesAction","tabInBackgound","localGoogle","imgFullParse","searchModeAction","searchModeContextMenu","bypassImageHostBlocking","shareImageContextMenu","convertSharedImage","autoPasteAction","confirmPaste","detectAltImageDimension","viewImageContextMenu","viewImageUseViewer","appTheme","showContribPage","showEngineIcons","pinActionToolbarViewImage","pinActionToolbarShareImage","pinActionToolbarOptions","pinActionToolbarContribute"],mt=pt.runtime.getURL("/src/search/index.html")+"?id={id}",bt={google:{url:{target:"https://www.google.com/searchbyimage?sbisrc=cr_1_5_2&image_url={imgUrl}",isExec:!0},image:{target:mt,isTaskId:!0}},bing:{url:{target:"https://www.bing.com/images/search?q=imgurl:{imgUrl}&view=detailv2&iss=sbi&FORM=IRSBIQ&redirecturl=https%3A%2F%2Fwww.bing.com%2Fimages%2Fdiscover%3Fform%3DHDRSC2#enterInsights"},image:{target:"https://www.bing.com/",isExec:!0}},yandex:{url:{target:"https://yandex.com/images/search?url={imgUrl}&rpt=imageview"},image:{target:"https://yandex.com/images/",isExec:!0}},baidu:{url:{target:"https://www.baidu.com/",isExec:!0},image:{target:"https://www.baidu.com/",isExec:!0}},tineye:{url:{target:"https://www.tineye.com/search/?&url={imgUrl}"},image:{target:"https://www.tineye.com/",isExec:!0}},sogou:{url:{target:"https://pic.sogou.com/ris?query={imgUrl}&flag=1&drag=0"},image:{target:"https://pic.sogou.com/",isExec:!0}},karmaDecay:{url:{target:"http://karmadecay.com/search?q={imgUrl}"},image:{target:"http://karmadecay.com/",isExec:!0}},whatanime:{url:{target:"https://trace.moe/?url={imgUrl}"},image:{target:"https://trace.moe/",isExec:!0}},saucenao:{url:{target:"https://saucenao.com/",isExec:!0},image:{target:"https://saucenao.com/",isExec:!0}},iqdb:{url:{target:"https://iqdb.org/?url={imgUrl}"},image:{target:"https://iqdb.org/",isExec:!0}},ascii2d:{url:{target:"https://ascii2d.net/search/url/{imgUrl}"},image:{target:"https://ascii2d.net/",isExec:!0}},getty:{image:{target:"https://www.gettyimages.com/",isExec:!0}},istock:{image:{target:"https://www.istockphoto.com/",isExec:!0}},shutterstock:{image:{target:"https://www.shutterstock.com/images",isExec:!0}},adobestock:{image:{target:"https://stock.adobe.com/",isExec:!0}},depositphotos:{image:{target:"https://depositphotos.com/",isExec:!0}},pinterest:{image:{target:mt,isTaskId:!0}},qihoo:{image:{target:"https://st.so.com/",isExec:!0}},taobao:{image:{target:"https://www.taobao.com/",isExec:!0}},alibabaChina:{image:{target:"https://www.1688.com/",isExec:!0}},dreamstime:{image:{target:"https://www.dreamstime.com/",isExec:!0}},alamy:{image:{target:"https://www.alamy.com/",isExec:!0}},"123rf":{image:{target:"https://www.123rf.com/",isExec:!0}},esearch:{image:{target:"https://euipo.europa.eu/eSearch/",isExec:!0}},tmview:{image:{target:"https://www.tmdn.org/tmview/#/tmview",isExec:!0}},branddb:{image:{target:"https://branddb.wipo.int/en/similarlogo",isExec:!0}},madridMonitor:{image:{target:"https://www3.wipo.int/madrid/monitor/en/",isExec:!0}},auTrademark:{image:{target:"https://search.ipaustralia.gov.au/trademarks/search/advanced",isExec:!0}},auDesign:{image:{target:"https://search.ipaustralia.gov.au/designs/search/advanced",isExec:!0}},nzTrademark:{image:{target:"https://app.iponz.govt.nz/app/TradeMarkCheck",isExec:!0}},jpDesign:{image:{target:"https://www.graphic-image.inpit.go.jp/",isExec:!0}},pimeyes:{image:{target:"https://pimeyes.com/en",isExec:!0}},stocksy:{image:{target:"https://www.stocksy.com/",isExec:!0}},pond5:{image:{target:"https://www.pond5.com/stock-images/",isExec:!0}},pixta:{image:{target:"https://www.pixtastock.com/",isExec:!0}},ikea:{image:{target:"https://www.ikea.com/",isExec:!0}},repostSleuth:{url:{target:"https://repostsleuth.com/search?targetImageMatch=60&filterSameAuthor=false",isExec:!0},image:{target:"https://repostsleuth.com/search?targetImageMatch=60&filterSameAuthor=false",isExec:!0}},shein:{image:{target:"https://m.shein.com/presearch",isExec:!0}},lykdat:{image:{target:"https://lykdat.com/",isExec:!0}},wildberries:{image:{target:"https://www.wildberries.ru/",isExec:!0}},googleLens:{url:{target:"https://www.google.com/imghp",isExec:!0},image:{target:"https://www.google.com/imghp",isExec:!0}},lexica:{url:{target:"https://lexica.art/?q={imgUrl}"},image:{target:"https://lexica.art/",isExec:!0}},kagi:{url:{target:"https://kagi.com/images",isExec:!0},image:{target:"https://kagi.com/images",isExec:!0}},freepik:{image:{target:"https://www.freepik.com/search",isExec:!0}},icons8:{image:{target:"https://icons8.com/",isExec:!0}}},yt=["baidu","sogou","qihoo","taobao","alibabaChina"],wt={branddb:"wipo",madridMonitor:"wipo"},vt={getty:["dark"],istock:["dark"],depositphotos:["dark"],alamy:["dark"],"123rf":["dark"],nzTrademark:["dark"],stocksy:["dark"],lykdat:["dark"],lexica:["dark"],jpDesign:["dark"],pimeyes:["dark"],pond5:["dark"],saucenao:["dark"],ascii2d:["dark"],tmview:["dark"],pixta:["dark"],freepik:["dark"]},xt=["iqdb","karmaDecay","tineye","whatanime","repostSleuth"],_t={"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpg","jpeg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/prs.btif":["btif","btf"],"image/prs.pti":["pti"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/webp":["webp"],"image/wmf":["wmf"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["bmp"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"]};Object.assign(_t,{"image/jxl":["jxl"]}),Object.assign({"image/aces":"","image/apng":"APNG","image/avci":"","image/avcs":"","image/avif":"AVIF","image/bmp":"BMP","image/cgm":"","image/dicom-rle":"","image/emf":"","image/fits":"","image/g3fax":"","image/gif":"GIF","image/heic":"HEIC","image/heic-sequence":"","image/heif":"HEIF","image/heif-sequence":"","image/hej2k":"","image/hsj2":"","image/ief":"","image/jls":"","image/jp2":"JP2","image/jpeg":"JPEG","image/jph":"","image/jphc":"","image/jpm":"","image/jpx":"JPX","image/jxr":"","image/jxra":"","image/jxrs":"","image/jxs":"","image/jxsc":"","image/jxsi":"","image/jxss":"","image/ktx":"","image/ktx2":"","image/png":"PNG","image/prs.btif":"","image/prs.pti":"","image/sgi":"","image/svg+xml":"SVG","image/t38":"","image/tiff":"TIFF","image/tiff-fx":"","image/vnd.adobe.photoshop":"PSD","image/vnd.airzip.accelerator.azv":"","image/vnd.dece.graphic":"","image/vnd.djvu":"","image/vnd.dvb.subtitle":"","image/vnd.dwg":"","image/vnd.dxf":"","image/vnd.fastbidsheet":"","image/vnd.fpx":"","image/vnd.fst":"","image/vnd.fujixerox.edmics-mmr":"","image/vnd.fujixerox.edmics-rlc":"","image/vnd.microsoft.icon":"ICO","image/vnd.ms-dds":"","image/vnd.ms-modi":"","image/vnd.ms-photo":"","image/vnd.net-fpx":"","image/vnd.pco.b16":"","image/vnd.tencent.tap":"","image/vnd.valve.source.texture":"","image/vnd.wap.wbmp":"","image/vnd.xiff":"","image/vnd.zbrush.pcx":"","image/webp":"WebP","image/wmf":"","image/x-3ds":"","image/x-cmu-raster":"","image/x-cmx":"","image/x-freehand":"","image/x-icon":"ICO","image/x-jng":"","image/x-mrsid-image":"","image/x-ms-bmp":"","image/x-pcx":"","image/x-pict":"","image/x-portable-anymap":"","image/x-portable-bitmap":"","image/x-portable-graymap":"","image/x-portable-pixmap":"","image/x-rgb":"","image/x-tga":"","image/x-xbitmap":"XBM","image/x-xpixmap":"","image/x-xwindowdump":""},{"image/jxl":"JPEG XL"});const At=["google","bing","yandex","baidu","tineye","whatanime","saucenao","ascii2d","adobestock","depositphotos","pinterest","qihoo","alibabaChina","dreamstime","pimeyes","pond5","ikea","shein","lykdat","googleLens","lexica","icons8"],Et=["bing","yandex","whatanime","adobestock","alibabaChina","dreamstime","pond5","lexica"],St="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",It="Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Mobile Safari/537.36",kt="Google Chrome 110.0.5481.78 (Official) Windows";var Tt=i(7272);async function Rt(e){return void 0===e&&(e=await z.Ay.get(["engines","disabledEngines"])),qe(e.engines,e.disabledEngines)}async function jt(e,t,n,r){return["selectImage","capture","browse"].includes(n)||r||!e.imageUrl||!await Lt(t,{bypassBlocking:"url"!==n})}async function Lt(e,{bypassBlocking:t=!0}={}){let n;n=Array.isArray(e)?e:"allEngines"===e?await Rt():[e];const{bypassImageHostBlocking:r}=await z.Ay.get("bypassImageHostBlocking");for(const e of n)if(!bt[e].url||t&&r&&yt.includes(e))return!1;return!0}async function Mt(e){const t={sessionOrigin:"",sessionType:"",sourceTabId:-1,sourceTabIndex:-1,sourceFrameId:-1,closeSourceTab:!1,searchMode:"",engineGroup:"",engines:[],options:{}};if(t.options=await z.Ay.get(ht),e.options&&(Object.assign(t.options,e.options),delete e.options),e.engine){if("allEngines"===e.engine){const e=await Rt(t.options);t.engineGroup="allEngines",t.engines=e}else t.engines.push(e.engine);delete e.engine}return Object.assign(t,e),"search"!==t.sessionType||t.searchMode||(t.searchMode="action"===t.sessionOrigin?t.options.searchModeAction:t.options.searchModeContextMenu),t}async function Ot({message:e,messageId:t,title:n,type:r="info",timeout:i=0}={}){if(n||(n=(0,ft.q4)("extensionName")),t&&(e=(0,ft.q4)(t)),"safari"===gt.Dm)return Tt.runtime.sendNativeMessage("application.id",{id:"notification",message:e});{const t=await Tt.notifications.create(`sbi-notification-${r}`,{type:"basic",title:n,message:e,iconUrl:"/src/assets/icons/app/icon-64.png"});return i&&self.setTimeout((()=>{Tt.notifications.clear(t)}),i),t}}async function Ct({tabId:e,frameId:t=0,module:n,insert:r=!1}={}){try{const[i]=await(0,ft.HG)({func:e=>self.runStore?.[`${e}Module`],args:[n],code:`self.runStore?.['${n}Module']`,tabId:e,frameIds:[t]});if(!i&&r&&await(0,ft.HG)({files:[`/src/${n}/script.js`],tabId:e,frameIds:[t]}),i||r)return!0}catch(e){console.log(e)}return!1}async function Pt({activeTab:e=!1}={}){const t=[];if(e){const e=await(0,ft.e6)();e&&t.push(e)}else t.push(...await Tt.tabs.query({url:["http://*/*","https://*/*"],windowType:"normal"}));for(const e of t)(0,ft.HG)({files:["/src/base/script.js"],tabId:e.id,allFrames:!0})}async function Nt({tab:e,tabId:t=null}={}){return e||null===t||(e=await Tt.tabs.get(t).catch((e=>null))),await(0,ft.kL)({tab:e})&&!(await(0,ft.uo)()).isMobile?e.id:null}async function Dt({url:e="",setOpenerTab:t=!0,getTab:n=!1,activeTab:r=null}={}){r||(r=await(0,ft.e6)());const i={url:e,index:r.index+1,active:!0,getTab:n};return t&&(i.openerTabId=await Nt({tab:r})),(0,ft.aI)(i)}let Ut,Bt=0;async function Ft({action:e="auto",activeTab:t=null,showContribPage:n=!0}={}){if(await async function({valueChange:e=1,maxUseCount:t=1/0,minInterval:n=0}={}){if(Date.now()-Bt>=n){Bt=Date.now();const{useCount:n}=await z.Ay.get("useCount");n<t?await z.Ay.set({useCount:n+e}):n>t&&await z.Ay.set({useCount:t})}}({valueChange:1,maxUseCount:1e3}),n)return async function({minUseCount:e=0,minInstallDays:t=0,minLastOpenDays:n=0,minLastAutoOpenDays:r=0,action:i="auto",activeTab:a=null}={}){if(gt.ZY){const s=await z.Ay.get(["showContribPage","useCount","installTime","contribPageLastOpen","contribPageLastAutoOpen"]),o=(0,ft.I4)();if(s.showContribPage&&s.useCount>=e&&o-s.installTime>=864e5*t&&o-s.contribPageLastOpen>=864e5*n&&o-s.contribPageLastAutoOpen>=864e5*r)return await z.Ay.set({contribPageLastOpen:o,contribPageLastAutoOpen:o}),async function({action:e="",updateStats:t=!0,getTab:n=!1,activeTab:r=null}={}){t&&await z.Ay.set({contribPageLastOpen:(0,ft.I4)()});let i=Tt.runtime.getURL("/src/contribute/index.html");return e&&(i=`${i}?action=${e}`),Dt({url:i,getTab:n,activeTab:r})}({action:i,updateStats:!1,activeTab:a,getTab:!0})}}({minUseCount:10,minInstallDays:14,minLastOpenDays:14,minLastAutoOpenDays:365,activeTab:t,action:e})}function $t({count:e=1,reserved:t=!1}={}){const n=[];let r,i;for(t?(r=1,i=1e8):(r=100000001,i=["firefox","safari"].includes(gt.Dm)?Number.MAX_SAFE_INTEGER:2147483647);;){const t=(0,ft.hw)(r,i);if(n.includes(t)||n.push(t),n.length===e)break}return n}function Wt(e,{variant:t=""}={}){let n=e=wt[e]||e;return t&&vt[e]?.includes(t)&&(n+=`-${t}`),xt.includes(e)?{16:`src/assets/icons/engines/${n}-16.png`,32:`src/assets/icons/engines/${n}-32.png`}:{16:`src/assets/icons/engines/${n}.svg`}}function zt(e,{name:t,type:n}={}){const r=n||e.type,i=function({name:e,type:t}={}){if(e||(e="image"),t){const n=function(e){const t=_t[e];return t?t[0]:null}(t);if(n){const r=(0,ft.Qw)(e);r?Kt(r)!==t?e=e.replace(new RegExp(`${r}$`,"i"),n):e.endsWith(r)||(e=e.replace(new RegExp(`${r}$`,"i"),r)):e=`${e}.${n}`}}return e}({name:t||e.name,type:r});return e.name!==i||e.type!==r?new File([e],i,{type:r}):e}async function qt({blob:e,dataUrl:t,name:n}={}){e||(e=(0,ft.aU)(t));const r=await async function(e,{name:t}={}){if(!async function(e){if(e){if(e.size<=314572800)return!0;console.log(`File too large (${e.size} bytes)`)}return!1}(e))return;const n=await(0,ft.Ky)(e.slice(0,4100)).catch((e=>null));let r;if(n&&({mime:r}=await async function(e){return(new dt).fromBuffer(e)}(n)||{}),r){if(Yt(r))return zt(e,{type:r,name:t})}else if(Yt(e.type))return zt(e,{name:t})}(e,{name:n});if(r)return r}async function Vt(e){const t=await(0,ft.GW)(e);if(t)return{imageDataUrl:t,imageFilename:e.name,imageType:e.type,imageSize:e.size}}function Ht(e,t,{maxDimension:n=1/0}={}){let r,i;return e>n||t>n?(e===t&&(r=i=n),e>t&&(r=n,i=t/e*n),e<t&&(r=e/t*n,i=n)):(r=e,i=t),{width:r,height:i}}async function Gt({url:e,blob:t,query:n=!1}={}){if("undefined"==typeof Image){if(e){if(!e.startsWith("data:"))throw new Error("getImageElement does not accept image URLs in service workers");try{t=(0,ft.aU)(e)}catch{}}let n;try{n=await createImageBitmap(t),n.naturalWidth=n.width,n.naturalHeight=n.height}catch{}return n}return new Promise((r=>{if(n){const t=document.images;for(let n=0;n<t.length;n++){const i=t[n];if(i?.currentSrc===e){if(!i.complete||!i.naturalWidth)break;r(i)}}}if(e&&e.startsWith("data:")&&e.length>(["firefox","safari"].includes(gt.Dm)?31457280:1/0))try{t=(0,ft.aU)(e)}catch{}function i(n){t&&URL.revokeObjectURL(e),n?r(n):r()}t&&(e=URL.createObjectURL(t));const a=new Image;a.onload=()=>{i(a)},a.onerror=()=>{i()},a.onabort=()=>{i()},a.src=e}))}function Kt(e){for(const[t,n]of Object.entries(_t))if(n.includes(e))return t;return null}function Yt(e){return!!_t.hasOwnProperty(e)}async function Xt(e,{credentials:t=!1,timeout:n=12e4,token:r=""}={}){if(!gt.tn)return new Promise((i=>{const a=function(){try{return new content.XMLHttpRequest}catch(e){return new XMLHttpRequest}}();a.open("GET",e),n&&(a.timeout=n),a.responseType="blob",a.withCredentials=t,r&&a.setRequestHeader("Accept",r),a.onload=()=>{i(a.response)},a.onerror=()=>{i()},a.onabort=()=>{i()},a.ontimeout=()=>{i()},a.send()}));{const r={method:"GET",mode:"cors"};n&&(r.signal=function(e){if(AbortSignal.timeout)return AbortSignal.timeout(e);{const t=new AbortController;return self.setTimeout((()=>t.abort()),e),t.signal}}(n)),t&&(r.credentials="include");try{const t=await fetch(e,r);return await t.blob()}catch(e){}}}function Jt(e,t){if("image/webp"===e){if(At.includes(t))return!0}else{if("image/avif"!==e)return!0;if(Et.includes(t))return!0}}function Qt(e){if("image"===e.mediaType&&function(e,{allowDataUrl:t=!1}={}){try{if(t&&e.startsWith("data:"))return!0;if(e.length<=2048&&/^https?:$/i.test(new URL(e).protocol))return!0}catch(e){}}(e.srcUrl,{allowDataUrl:!0}))return e.srcUrl}async function Zt(e,{session:t,mustDownloadUrl:n=!1}={}){let r;if(e.startsWith("data:")){const t=await qt({dataUrl:e});if(t){const e=await Vt(t);e&&(r=e)}}else{const{name:i,type:a}=function(e){const{name:t,ext:n}=(0,ft.wP)(e);return{name:t,ext:n,type:Kt(n)}}(e);if(n=n||"share"===t.sessionType||"view"===t.sessionType&&t.options.viewImageUseViewer||"search"===t.sessionType&&("selectImage"===t.searchMode||!await Lt(t.engines)||t.engines.some((e=>!Jt(a,e))))){const t=await Xt(e);if(t){const n=await qt({blob:t,name:i});if(n){const t=await Vt(n);t&&(r={imageUrl:e,...t})}}}else r={imageUrl:e,imageType:a}}return r}function en({port:e,checkMessage:t=null,timeout:n=12e4}={}){let r;const i=function(e){t(e)&&(r=!0)};return e.onMessage.addListener(i),new Promise(((a,s)=>{const o=function(){l(),a()},c=function(e){t(e)&&o()},l=function({throwError:t=!1}={}){self.clearTimeout(d),e.onDisconnect.removeListener(u),e.onMessage.removeListener(i),e.onMessage.removeListener(c),t&&s()},u=function(){l({throwError:!0})};e.onDisconnect.addListener(u);const d=self.setTimeout(u,n);r?o():e.onMessage.addListener(c)}))}function tn(){return"firefox"===gt.Dm?83886080:41943040}var nn=i(4719);function rn(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function an(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=rn(n);return(e,n)=>r.then((r=>n(r.transaction(t,e).objectStore(t))))}let sn;function on(){return sn||(sn=an("keyval-store","keyval")),sn}function cn(e,t,n=on()){return n("readwrite",(n=>(n.put(t,e),rn(n.transaction))))}i(7272),Error;var ln=i(7272);const un=new c({concurrency:1}),dn=new c({concurrency:1}),fn=new class{constructor(){this.idbStore=null,this.memoryStore=null}initStore({area:e="",force:t=!1}={}){"indexeddb"===e?this.idbStore&&!t||(this.idbStore=an("keyval-store","keyval")):"memory"===e&&(this.memoryStore||(this.memoryStore={}))}handleError(e,{area:t=""}={}){if("indexeddb"!==t||!e?.message?.includes("connection is closing"))throw e;console.log("IndexedDB error:",e.message),this.initStore({area:t,force:!0})}async get(e,{area:t=""}={}){if(this.initStore({area:t}),"indexeddb"===t)try{return await function(e,t=on()){return t("readonly",(t=>rn(t.get(e))))}(e,this.idbStore)}catch(e){this.handleError(e,{area:t})}else{if("local"===t)return(await z.Ay.get(e))[e];if("memory"===t)return this.memoryStore[e]}}async set(e,t,{area:n=""}={}){if(this.initStore({area:n}),"indexeddb"===n)try{await cn(e,t,this.idbStore)}catch(r){this.handleError(r,{area:n}),await cn(e,t,this.idbStore)}else"local"===n?await z.Ay.set({[e]:t}):"memory"===n&&(this.memoryStore[e]=t)}async remove(e,{area:t=""}={}){if(this.initStore({area:t}),"indexeddb"===t)try{await function(e,t=on()){return t("readwrite",(t=>(t.delete(e),rn(t.transaction))))}(e,this.idbStore)}catch(e){this.handleError(e,{area:t})}else"local"===t?await z.Ay.remove(e):"memory"===t&&delete this.memoryStore[e]}};function gn(e){return{metadataKey:`metadata_${e}`,dataKey:`data_${e}`}}async function pn({storageId:e,metadata:t=!1,data:n=!1,area:r="local"}={}){const{metadataKey:i,dataKey:a}=gn(e);return t&&({value:t}=await fn.get(i,{area:"local"})||{}),n&&({value:n}=await fn.get(a,{area:r})||{}),{metadata:t,data:n}}async function hn({storageId:e,metadata:t=null,data:n=null,area:r="local"}={}){const{metadataKey:i,dataKey:a}=gn(e);null!==t&&await fn.set(i,{value:t},{area:"local"}),null!==n&&await fn.set(a,{value:n},{area:r})}async function mn({storageId:e,metadata:t=!1,data:n=!1,area:r="local"}={}){const{metadataKey:i,dataKey:a}=gn(e);t&&await fn.remove(i,{area:"local"}),n&&await fn.remove(a,{area:r})}async function bn(t,{token:n="",receipts:r=null,expiryTime:i=0,area:a="local",isTask:s=!1}={}){const o=n||(0,e.A)(),c=Date.now(),l={area:a,addTime:c,receipts:r,alarms:[],isTask:s};if(i){const e=`delete-storage-item_${o}`;ln.alarms.create(e,{delayInMinutes:i}),l.alarms.push(e)}return await async function({storageId:e,addTime:t}={}){await dn.add((async function(){const{storageRegistry:n}=await z.Ay.get("storageRegistry");n[e]={addTime:t},await z.Ay.set({storageRegistry:n})}))}({storageId:o,addTime:c}),await hn({storageId:o,metadata:l,data:t,area:a}),o}async function yn({storageId:e,registry:t=!0}={}){const{metadata:n}=await pn({storageId:e,metadata:!0});if(n){await mn({storageId:e,data:!0,area:n.area});for(const e of n.alarms)await ln.alarms.clear(e);await mn({storageId:e,metadata:!0}),t&&(n.isTask&&await async function({taskId:e}={}){await dn.add((async function(){const{taskRegistry:t}=await z.Ay.get("taskRegistry"),n=t.tasks[e];if(n){const r=t.tabs[n.tabId];r&&r.taskId===e&&delete t.tabs[n.tabId]}delete t.tasks[e],await z.Ay.set({taskRegistry:t})}))}({taskId:e}),await async function({storageId:e}={}){await dn.add((async function(){const{storageRegistry:t}=await z.Ay.get("storageRegistry");delete t[e],await z.Ay.set({storageRegistry:t})}))}({storageId:e}))}}async function wn({storageId:e}={}){await un.add((async function(){const{metadata:t}=await pn({storageId:e,metadata:!0});t&&t.receipts&&(t.receipts.received+=1,t.receipts.received<t.receipts.expected?await hn({storageId:e,metadata:t}):await yn({storageId:e}))}))}const vn={addStorageItem:bn,getStorageItem:async function({storageId:e,saveReceipt:t=!1}={}){const{metadata:n}=await pn({storageId:e,metadata:!0});if(n){const{data:r}=await pn({storageId:e,data:!0,area:n.area});if(r)return t&&await wn({storageId:e}),r}},deleteStorageItem:yn,saveStorageItemReceipt:wn,addTaskRegistryItem:async function({taskId:e,tabId:t}={}){await dn.add((async function(){const{taskRegistry:n}=await z.Ay.get("taskRegistry"),r=Date.now();n.lastTaskStart=r,n.tabs[t]={taskId:e},n.tasks[e]={tabId:t,addTime:r},await z.Ay.set({taskRegistry:n})}))},getTaskRegistryItem:async function({taskId:e,tabId:t}={}){const{taskRegistry:n}=await z.Ay.get("taskRegistry");if(t){const e=n.tabs[t];if(e)return{taskId:e.taskId,...n.tasks[e.taskId]}}else if(e){const t=n.tasks[e];if(t)return{taskId:e,...t}}},cleanupRegistry:async function(){await dn.add((async function(){const{lastStorageCleanup:e}=await z.Ay.get("lastStorageCleanup");if(Date.now()-e>864e5){const{taskRegistry:e}=await z.Ay.get("taskRegistry");for(const[t,n]of Object.entries(e.tasks))if(Date.now()-n.addTime>36e5){const r=e.tabs[n.tabId];r&&r.taskId===t&&delete e.tabs[n.tabId],delete e.tasks[t]}await z.Ay.set({taskRegistry:e});const{storageRegistry:t}=await z.Ay.get("storageRegistry");for(const[e,n]of Object.entries(t))Date.now()-n.addTime>36e5&&(await yn({storageId:e,registry:!1}),delete t[e]);await z.Ay.set({storageRegistry:t,lastStorageCleanup:Date.now()})}}))},aquireLock:async function({name:t,expiryTime:n=1}={}){return t=await un.add((async function(){t||(t=(0,e.A)());const r=`lock_${t}`,{metadata:i}=await pn({storageId:r,metadata:!0});if(!i)return await bn("",{token:r,expiryTime:n}),t}))}};var xn=i(7272);const _n=new c({concurrency:1});function An({tabId:e,userAgent:t}={}){xn.webRequest.onBeforeSendHeaders.addListener((function(e){for(const n of e.requestHeaders)if("user-agent"===n.name.toLowerCase()){n.value=t;break}return{requestHeaders:e.requestHeaders}}),{urls:["http://*/*","https://*/*"],tabId:e},["blocking","requestHeaders"])}async function En(e){return new Promise(((t,n)=>{let r;r=xn.contextMenus.create(e,(function(){xn.runtime.lastError&&n(xn.runtime.lastError),t(r)}))}))}async function Sn(e,{throwError:t=!1}={}){try{await xn.contextMenus.remove(e)}catch(e){if(t)throw e}}async function In(){const e={name:"private",active:xn.extension.inIncognitoContext},{menuItems:t}=await z.Ay.get("menuItems",{context:e});for(const e of t)await Sn(e);const{showInContextMenu:n}=await z.Ay.get("showInContextMenu"),r=n?await async function(){const e=await(0,ft.uo)(),t=await z.Ay.get(ht),n=["audio","editable","frame","image","link","selection","video"];e.isFirefox&&n.push("password"),e.isAndroid||n.push("page");const r=e.isFirefox&&t.showEngineIcons;let i;r&&(i=await async function(e){return e||({appTheme:e}=await z.Ay.get("appTheme")),"auto"===e&&(e=(0,ft.T6)().matches?"dark":"light"),e}(t.appTheme));const a=["http://*/*","https://*/*"];["safari","samsung"].includes(gt.Dm)||a.push("file:///*");const s=function(){try{const{protocol:e}=new URL(Tt.runtime.getURL("/src/background/script.js"));return`${e}//*/*`}catch(e){}return null}(),o=!e.isSamsung&&t.searchAllEnginesContextMenu,c=t.viewImageContextMenu,l=t.shareImageContextMenu&&function(e){return!(!navigator.canShare||!e.isSafari&&(!e.isWindows&&!e.isAndroid||e.isFirefox))}(e),u=await Rt(t),d=[];if(1===u.length){const e=u[0],t=(0,ft.q4)("mainMenuItemTitle_engine",(0,ft.q4)(`menuItemTitle_${e}`));d.push(await Tn({id:`search_${e}_1`,title:t,contexts:n,documentUrlPatterns:a})),s&&d.push(await Tn({id:`search_${e}_2`,title:t,contexts:["image"],documentUrlPatterns:[s]}))}else if(u.length>1&&"main"===o){const e=(0,ft.q4)("mainMenuItemTitle_allEngines");d.push(await Tn({id:"search_allEngines_1",title:e,contexts:n,documentUrlPatterns:a})),s&&d.push(await Tn({id:"search_allEngines_2",title:e,contexts:["image"],documentUrlPatterns:[s]}))}else if(u.length>1){let t=!1;if(c){const e=(0,ft.q4)("menuItemTitle_viewImage");d.push(await Tn({id:"view_1",title:e,contexts:n,documentUrlPatterns:a})),s&&d.push(await Tn({id:"view_2",title:e,contexts:["image"],documentUrlPatterns:[s]})),t=!0}if(l){const e=(0,ft.q4)("menuItemTitle_shareImage");d.push(await Tn({id:"share_1",title:e,contexts:n,documentUrlPatterns:a})),s&&d.push(await Tn({id:"share_2",title:e,contexts:["image"],documentUrlPatterns:[s]})),t=!0}if(t&&!e.isSamsung&&(d.push(await Tn({id:"sep_1",contexts:n,type:"separator",documentUrlPatterns:a})),s&&d.push(await Tn({id:"sep_2",type:"separator",contexts:["image"],documentUrlPatterns:[s]}))),"sub"===o){const t=(0,ft.q4)("menuItemTitle_allEngines"),o=r&&Wt("allEngines",{variant:i});d.push(await Tn({id:"search_allEngines_1",title:t,contexts:n,documentUrlPatterns:a,icons:o})),s&&d.push(await Tn({id:"search_allEngines_2",title:t,contexts:["image"],documentUrlPatterns:[s],icons:o})),e.isSamsung||(d.push(await Tn({id:"sep_3",contexts:n,type:"separator",documentUrlPatterns:a})),s&&d.push(await Tn({id:"sep_4",type:"separator",contexts:["image"],documentUrlPatterns:[s]})))}for(const e of u){const t=(0,ft.q4)(`menuItemTitle_${e}`),o=r&&Wt(e,{variant:i});d.push(await Tn({id:`search_${e}_1`,title:t,contexts:n,documentUrlPatterns:a,icons:o})),s&&d.push(await Tn({id:`search_${e}_2`,title:t,contexts:["image"],documentUrlPatterns:[s],icons:o}))}}return d}():[];await z.Ay.set({menuItems:r.map((e=>e.id))},{context:e});try{for(const e of r)await En(e)}catch(e){await async function(){await xn.contextMenus.removeAll()}();for(const e of r)await En(e);throw(0,ft.Jh)("createMenuError")&&await kn(),e}}async function kn(){["chrome","edge","opera"].includes(gt.Dm)&&await z.Ay.set({menuChangeEvent:Date.now()},{area:gt.tn?"session":"local",context:{name:"private",active:!xn.extension.inIncognitoContext}})}async function Tn({id:e,title:t="",contexts:n,parent:r,type:i="normal",documentUrlPatterns:a,targetUrlPatterns:s,icons:o}){const c={id:e,title:t,contexts:n,parentId:r,type:i};return xn.extension.inIncognitoContext&&(c.id+="_private"),a&&(c.documentUrlPatterns=a),s&&(c.targetUrlPatterns=s),o&&(c.icons=o),c}async function Rn(t,n){const r=t.session.sourceTabId;await Ct({tabId:r,module:"base"})?(await Ct({tabId:r,module:"content"})||await(0,ft.HG)({files:["/src/content/script.js"],tabId:r}),await async function({target:t="runtime",tabId:n,frameId:r,messagePort:i,message:a,transferResponse:s=!1,openConnection:o=!1}={}){let c;if(!s)try{if("runtime"===t)return await Tt.runtime.sendMessage(a);if("tab"===t)return await Tt.tabs.sendMessage(n,a,{frameId:r});if("port"===t)return i.postMessage(a)}catch(e){c=e}const l=(0,e.A)(),u=tn(),d=JSON.stringify(a),f=Boolean(c)||d.length>u,g=!Boolean(i);if(o){const e=en({port:i=Tt.runtime.connect({name:`message_${l}`}),checkMessage:function(e){if(e.transfer?.id===l&&"connection"===e.transfer.type&&e.transfer.complete)return!0}});await e}return new Promise((async(e,c)=>{let p=[];const h=function(e){if(e.transfer?.id===l)if("chunkedMessage"===e.transfer?.type){for(const e of(0,ft.bK)(d,u))i.postMessage({transfer:{type:"chunkedMessage",data:e,id:l}});i.postMessage({transfer:{type:"chunkedMessage",complete:!0,id:l}})}else"chunkedResponse"===e.transfer?.type?e.transfer.complete?p=JSON.parse(p.join("")):p.push(e.transfer.data):"response"===e.transfer?.type&&(p=e.transfer.data)};let m;i?i.onMessage.addListener(h):(m=function(e){e.name===l&&((i=e).onMessage.addListener(h),i.postMessage({transfer:{type:"connection",complete:!0,id:l}}))},Tt.runtime.onConnect.addListener(m));const b=function(e){if(m&&Tt.runtime.onConnect.removeListener(m),i&&(i.onMessage.removeListener(h),g))try{i.disconnect()}catch(e){}e&&c(e)};let y=null;try{const e={transferId:l,transferMessage:f,transferResponse:s,openConnection:!o},c=f?{transfer:e}:{...a,transfer:e};if("runtime"===t)y=await Tt.runtime.sendMessage(c);else if("tab"===t)y=await Tt.tabs.sendMessage(n,c,{frameId:r});else if("port"===t){const e=en({port:i,checkMessage:function(e){if(e.transfer?.id===l&&"message"===e.transfer.type&&e.transfer.complete)return!0}});i.postMessage(c),await e}}catch(e){b(e)}b(),e(s?p:y)}))}({target:"tab",tabId:r,frameId:0,message:{id:"openView",...t,view:n}})):await Ot({messageId:"error_scriptsNotAllowed"})}async function jn(e){return(0,ft.HG)({func:()=>{"undefined"!=typeof addTouchListener&&(self.addTouchListener(),self.showPointer())},code:"\n      if (typeof addTouchListener !== 'undefined') {\n        addTouchListener();\n        showPointer();\n      }\n    ",tabId:e,allFrames:!0})}async function Ln(e){return(0,ft.HG)({func:()=>{"undefined"!=typeof removeTouchListener&&(self.removeTouchListener(),self.hidePointer())},code:"\n      if (typeof removeTouchListener !== 'undefined') {\n        removeTouchListener();\n        hidePointer();\n      }\n    ",tabId:e,allFrames:!0})}async function Mn(e,t){["chrome","opera"].includes(gt.Dm)&&async function(){if(/ opr\//i.test(navigator.userAgent)){const{lastEngineAccessCheck:e}=await z.Ay.get("lastEngineAccessCheck");if(Date.now()-e>6048e5){await z.Ay.set({lastEngineAccessCheck:Date.now()});const e="https://www.google.com/generate_204";let t=!1;if(gt.tn){const n=$t({reserved:!0});await Tt.declarativeNetRequest.updateSessionRules({removeRuleIds:n,addRules:[{id:n[0],action:{type:"redirect",redirect:{transform:{path:""}}},condition:{urlFilter:e,initiatorDomains:[(0,ft.wT)()],resourceTypes:["xmlhttprequest"]}}]});const r=await fetch(e,{redirect:"manual",credentials:"omit"}).catch((e=>null));r&&"opaqueredirect"===r.type&&(t=!0),await Tt.declarativeNetRequest.updateSessionRules({removeRuleIds:n})}else await new Promise((n=>{function r(){return t=!0,i(),{cancel:!0}}const i=function(){self.clearTimeout(a),Tt.webRequest.onBeforeRequest.removeListener(r),n()},a=self.setTimeout(i,3e3);Tt.webRequest.onBeforeRequest.addListener(r,{urls:[e],types:["xmlhttprequest"]},["blocking"]),fetch(e).catch((e=>null))}));t||await Ot({messageId:"error_noSearchEngineAccess"})}}}(),Array.isArray(t)||(t=[t]);const n=await xn.tabs.get(e.sourceTabId);e.sourceTabIndex=n.index;let r=!0;for(const n of t)await On(e,n,r),r=!1}async function On(e,t,n=!0){let r,i=n;if(n){const t=await Ft();t&&(r=t.id,e.sourceTabIndex=t.index,i=!1)}i=!e.options.tabInBackgound&&i;const a=await async function(e,t,n){const r=[];for(const i of t)(e.hasOwnProperty("imageDataUrl")||e.hasOwnProperty("imageUrl")&&await Lt(i,{bypassBlocking:"url"!==n}))&&r.push(i);return r}(t,e.engines,e.searchMode);e.engines.filter((e=>!a.includes(e))).length&&await Ot({messageId:"error_invalidSearchMethod",type:"unsupportedError"});const s=await async function(e,t,n){const r=[];for(const i of t){const t=!Jt(e.imageType,i),a=await jt(e,i,n,t)?"image":"url",s=bt[i][a].isExec,o=bt[i][a].isTaskId;r.push({engine:i,assetType:a,isExec:s,isTaskId:o,isAltImage:t,sendsReceipt:s||o})}return r}(t,a,e.searchMode),o=s.filter((e=>e.isAltImage));let c,l;o.length&&(c=await async function(e,{newType:t="",maxSize:n=1/0,maxDimension:r=1/0,getFile:i=!1,setBlob:a=!1,throwError:s=!1}={}){try{const s=await async function({blob:e,dataUrl:t,currentType:n="",currentSize:r=0,newType:i="",maxSize:a=1/0,maxDimension:s=1/0,getBlob:o=!1}={}){a!==1/0&&(r||(e||(e=(0,ft.aU)(t)),r=e.size),s===1/0&&(s=function({maxSize:e=1/0}={}){return e&&e!==1/0?e>=8388608?1680:e>=4194304?1280:880:1/0}({maxSize:a}))),n||(n=e?.type||(0,ft.cD)(t)),i||(i=n);const c=await Gt({url:t,blob:e});let l=c.naturalWidth,u=c.naturalHeight;for(;n!==i||r>a||l>s||u>s;){const{width:t,height:n}=Ht(l,u,{maxDimension:s}),{cnv:d,ctx:f}=(0,ft.dX)(t,n);if("image/jpeg"===i&&(f.fillStyle="#FFFFFF",f.fillRect(0,0,t,n)),f.drawImage(c,0,0,l,u,0,0,t,n),(o||a<1/0)&&(e=await(0,ft.PG)(d,{ctx:f,type:i,clear:!1})),!(a!==1/0&&(r=e.size)>a&&s>480))return o?e:await(0,ft.ZC)(d,{ctx:f,type:i});s-=200}return o&&!e&&(e=(0,ft.aU)(t)),o?e:t}({dataUrl:e.imageDataUrl,currentType:e.imageType,currentSize:e.imageSize,newType:t,maxSize:n,maxDimension:r,getBlob:!0});if(s){const t=zt(s,{name:e.imageFilename});if(i)return t;const n=await Vt(t);return a&&(n.imageBlob=s),n}}catch(e){if(console.log(e.toString()),s)throw e}}(t,{newType:"image/png"}),c&&(l=await vn.addStorageItem(c,{receipts:{expected:o.length,received:0},expiryTime:10,area:"indexeddb"})));const u=s.filter((e=>e.sendsReceipt&&(!l||!e.isAltImage)));let d;u.length&&(d=await vn.addStorageItem(t,{receipts:{expected:u.length,received:0},expiryTime:10,area:"indexeddb"}));let f=n;for(const n of s){let r,a;e.sourceTabIndex+=1,n.isAltImage&&l?(r=c,a=l):(r=t,a=d),await Cn(e,n,r,a,i),f&&e.closeSourceTab&&(await xn.tabs.remove(e.sourceTabId),e.sourceTabId=-1,e.sourceTabIndex-=1),i=!1,f=!1}await(0,ft.m0)()&&r&&await xn.tabs.update(r,{active:!0})}async function Cn(t,n,r,i,a){let s;n.sendsReceipt&&(s=await vn.addStorageItem({session:t,search:n,imageId:i},{receipts:{expected:1,received:0},expiryTime:10,isTask:!0}));const o=(0,e.A)(),c="samsung"===gt.Dm?(0,e.A)():"",l=await async function(e,t,n,r){const i=t.engine;let a=bt[i][t.assetType].target;if(t.isTaskId&&(a=a.replace("{id}",r)),"url"===t.assetType){let t=n.imageUrl;"ascii2d"!==i&&(t=encodeURIComponent(t)),a=a.replace("{imgUrl}",t),"google"!==i||e.options.localGoogle||(a=`${a}&gws_rd=cr&gl=US`)}return a}(t,n,r,s),u=[],d=await async function(e){if(await(0,ft.Fr)()){if("firefox"===gt.Dm&&["google","ikea"].includes(e))return It;if(["googleLens"].includes(e))return St}}(n.engine);d&&u.push({id:"setUserAgent",tabUrl:l,userAgent:d,beaconToken:c}),n.sendsReceipt&&u.push({id:"addTask",taskId:s});const f={tabUrl:c?(0,ft.bY)(c):l,keepHistory:!1};u.length&&(f.setupSteps=u),await vn.addStorageItem(f,{receipts:{expected:1,received:0},expiryTime:1,token:o}),c&&await vn.addStorageItem({tabUrl:l,keepHistory:!1},{receipts:{expected:1,received:0},expiryTime:1,token:c}),await(0,ft.aI)({token:o,index:t.sourceTabIndex,active:a})}async function Pn({tabId:e,tabUrl:t,userAgent:n,beaconToken:r}={}){if("samsung"===gt.Dm){function i(e){a(),An({tabId:e.tabId,userAgent:n})}const a=function(){window.clearTimeout(s),xn.webRequest.onBeforeRequest.removeListener(i)},s=window.setTimeout(a,1e4);xn.webRequest.onBeforeRequest.addListener(i,{urls:[(0,ft.bY)(r)],types:["main_frame"]},["blocking"])}else await async function({tabId:e,tabUrl:t,userAgent:n}={}){const r=$t()[0];"safari"===gt.Dm?(await xn.declarativeNetRequest.updateSessionRules({removeRuleIds:[r],addRules:[{id:r,action:{type:"modifyHeaders",requestHeaders:[{header:"User-Agent",operation:"set",value:n}]},condition:{urlFilter:`${t}*`,resourceTypes:["font","image","main_frame","media","ping","script","stylesheet","sub_frame","websocket","xmlhttprequest","other"]}}]}),xn.alarms.create(`delete-net-request-session-rule_${r}`,{delayInMinutes:2})):gt.tn?(await xn.declarativeNetRequest.updateSessionRules({removeRuleIds:[r],addRules:[{id:r,action:{type:"modifyHeaders",requestHeaders:[{header:"User-Agent",operation:"set",value:n}]},condition:{tabIds:[e],resourceTypes:["font","image","main_frame","media","ping","script","stylesheet","sub_frame","websocket","xmlhttprequest","other"]}}]}),xn.alarms.create(`delete-net-request-session-rule_${r}`,{delayInMinutes:2})):An({tabId:e,userAgent:n})}({tabId:e,tabUrl:t,userAgent:n})}async function Nn(e){await Ct({tabId:e.sourceTabId,frameId:e.sourceFrameId,module:"parse"})||await(0,ft.HG)({files:["/src/parse/script.js"],tabId:e.sourceTabId,frameIds:[e.sourceFrameId]}),await xn.tabs.sendMessage(e.sourceTabId,{id:"parsePage",session:e},{frameId:e.sourceFrameId})}async function Dn(e,t){if("browse"===e.searchMode){const t=xn.runtime.getURL("/src/browse/index.html"),n=await vn.addStorageItem(e,{receipts:{expected:1,received:0},expiryTime:1});await(0,ft.aI)({url:`${t}?id=${n}`,index:e.sourceTabIndex+1,openerTabId:await Nt({tabId:e.sourceTabId})})}else if("capture"===e.searchMode)await Rn({session:e},"capture");else if(["selectUrl","selectImage"].includes(e.searchMode)){if(t.startsWith("file://")&&["safari","samsung"].includes(gt.Dm))return void await Ot({messageId:"error_invalidImageUrl_fileUrl"});await Rn({session:e},"select"),await Ct({tabId:e.sourceTabId,module:"base"})&&await jn(e.sourceTabId)}}async function Un(e){"samsung"===gt.Dm&&await(0,ft.kL)({tab:e})&&(e=await xn.tabs.get(e.id));const t=await Mt({sessionOrigin:"action",sessionType:"search",sourceTabId:e.id,sourceTabIndex:e.index});if("url"===t.searchMode)return void await Ot({messageId:await(0,ft.Fr)()?"error_invalidSearchModeMobile_url":"error_invalidSearchMode_url"});const n=await Rt(t.options);n.length?("main"===t.options.searchAllEnginesAction&&n.length>1?(t.engineGroup="allEngines",t.engines=n):t.engines.push(n[0]),Dn(t,e.url)):await Ot({messageId:"error_allEnginesDisabled"})}async function Bn(e,t){let n;if(t.hasOwnProperty("imageDataUrl")){const e=await vn.addStorageItem(t,{receipts:{expected:1,received:0},expiryTime:1,area:"memory"});n=`${xn.runtime.getURL("/src/view/index.html")}?id=${e}`}else n=t.imageUrl;await xn.tabs.create({url:n,index:e.sourceTabIndex+1})}async function Fn(){await In(),await kn()}async function $n(){const e=await z.Ay.get(["engines","disabledEngines","searchAllEnginesAction"]),t=await Rt(e),n=gt.tn?xn.action:xn.browserAction;return 1===t.length?(n.setTitle({title:(0,ft.q4)("actionTitle_engine",(0,ft.q4)(`menuItemTitle_${t[0]}`))}),void n.setPopup({popup:""})):"main"===e.searchAllEnginesAction&&t.length>1?(n.setTitle({title:(0,ft.q4)("actionTitle_allEngines")}),void n.setPopup({popup:""})):(n.setTitle({title:(0,ft.q4)("extensionName")}),void(t.length?n.setPopup({popup:"/src/action/index.html"}):n.setPopup({popup:""})))}async function Wn(e){return vn.getStorageItem({storageId:e,saveReceipt:!0})}async function zn(e,t){if("cancelView"===e.id)"select"===e.view&&Ln(t.tab.id),xn.tabs.sendMessage(t.tab.id,{id:"closeView",view:e.view},{frameId:0});else if("discardView"===e.id)"select"===e.view&&Ln(t.tab.id);else if("actionPopupSubmit"===e.id)!async function(e,t,n){const{searchModeAction:r}=await z.Ay.get("searchModeAction"),i=await(0,ft.e6)(),a=await Mt({sessionOrigin:"action",sessionType:"search",searchMode:r,sourceTabId:i.id,sourceTabIndex:i.index,engine:e});"browse"===r&&t?await Mn(a,t):"url"===r&&n?await Mn(a,{imageUrl:n}):Dn(a,i.url)}(e.engine,e.images,e.imageUrl);else if("imageBrowseSubmit"===e.id){const n=e.session;n.sourceTabId=t.tab.id,n.sourceTabIndex=t.tab.index,Mn(n,e.images)}else if("imageSelectionSubmit"===e.id)Ln(t.tab.id),Nn(e.session);else if("imageConfirmationSubmit"===e.id)xn.tabs.sendMessage(t.tab.id,{id:"closeView",view:"confirm"},{frameId:0}),"search"===e.session.sessionType?await Mn(e.session,e.image):"view"===e.session.sessionType&&await Bn(e.session,e.image);else if("imageCaptureSubmit"===e.id){const n=t.tab.id;xn.tabs.sendMessage(n,{id:"closeView",view:"capture"},{frameId:0});const r=await async function(e,t){const[n]=await(0,ft.HG)({func:()=>window.innerWidth,code:"window.innerWidth;",tabId:t});e={...e,surfaceWidth:n};return Vt(zt(await async function(e){const t=await Tt.tabs.captureVisibleTab({format:"png"}),n=await Gt({url:t}),{left:r,top:i,width:a,height:s,surfaceWidth:o}=e,c=n.naturalWidth/o,{cnv:l,ctx:u}=(0,ft.dX)(a*c,s*c);return u.drawImage(n,r*c,i*c,l.width,l.height,0,0,l.width,l.height),(0,ft.PG)(l,{ctx:u})}(e)))}(e.area,n);Mn(e.session,r)}else if("pageParseSubmit"===e.id)"action"===e.session.sessionOrigin&&e.images.length<=1&&!e.images[0]?.mustConfirm&&xn.tabs.sendMessage(t.tab.id,{id:"closeView",view:"select"},{frameId:0}),async function(e,t){t.length?t.length>1||t[0].mustConfirm?await Rn({session:e,images:t},"confirm"):"search"===e.sessionType?await Mn(e,t):"view"===e.sessionType&&await Bn(e,t[0]):await Ot({messageId:"error_imageNotFound"})}(e.session,e.images);else if("initShare"===e.id)!async function(){const e=await(0,ft.e6)(),t=await Mt({sessionOrigin:"action",sessionType:"share",sourceTabId:e.id,sourceTabIndex:e.index});await Rn({session:t},"select"),await Ct({tabId:t.sourceTabId,module:"base"})&&await jn(t.sourceTabId)}();else if("initView"===e.id)!async function(){const e=await(0,ft.e6)(),t=await Mt({sessionOrigin:"action",sessionType:"view",sourceTabId:e.id,sourceTabIndex:e.index});await Rn({session:t},"select"),await Ct({tabId:t.sourceTabId,module:"base"})&&await jn(t.sourceTabId)}();else if("pageParseError"===e.id)"action"===e.session.sessionOrigin&&xn.tabs.sendMessage(t.tab.id,{id:"closeView",view:"select"},{frameId:0}),Ot({messageId:"error_pageParseError"});else{if("addContentRequestListener"===e.id)return async function({url:e,origin:t="",referrer:n="",tabId:r,token:i}={}){if(gt.tn){const i=$t()[0],a={type:"modifyHeaders"},s=[];n&&s.push({header:"Referer",operation:"set",value:n});const o=[];return t&&o.push({header:"Access-Control-Allow-Origin",operation:"set",value:t},{header:"Access-Control-Allow-Credentials",operation:"set",value:"true"}),s.length&&(a.requestHeaders=s),o.length&&(a.responseHeaders=o),await xn.declarativeNetRequest.updateSessionRules({removeRuleIds:[i],addRules:[{id:i,action:a,condition:{tabIds:[r],urlFilter:`${e}*`,resourceTypes:["xmlhttprequest","other"]}}]}),xn.alarms.create(`delete-net-request-session-rule_${i}`,{delayInMinutes:2}),i}{let t,r;const a=function(a){const s=a.requestHeaders.find((t=>"accept"===t.name.toLowerCase()&&t.value===i&&a.url===e&&"GET"===a.method));if(s&&(s.value="*/*"),s||a.requestId===t){if(t=a.requestId,n){const e=a.requestHeaders.find((e=>"referer"===e.name.toLowerCase()));e?e.value=n:a.requestHeaders.push({name:"Referer",value:n})}const e=a.requestHeaders.find((e=>"origin"===e.name.toLowerCase()));return e&&(r=e.value),{requestHeaders:a.requestHeaders}}},s=["blocking","requestHeaders"];"firefox"!==gt.Dm&&s.push("extraHeaders"),xn.webRequest.onBeforeSendHeaders.addListener(a,{urls:["<all_urls>"],types:["xmlhttprequest"]},s);const o=function(e){if(e.requestId===t&&r){const t=e.responseHeaders.find((e=>"access-control-allow-origin"===e.name.toLowerCase()));t?t.value=r:e.responseHeaders.push({name:"Access-Control-Allow-Origin",value:r});const n=e.responseHeaders.find((e=>"access-control-allow-credentials"===e.name.toLowerCase()));return n?n.value="true":e.responseHeaders.push({name:"Access-Control-Allow-Credentials",value:"true"}),{responseHeaders:e.responseHeaders}}},c=["blocking","responseHeaders"];"firefox"!==gt.Dm&&c.push("extraHeaders"),xn.webRequest.onHeadersReceived.addListener(o,{urls:["<all_urls>"],types:["xmlhttprequest"]},c);const l=function(e){e.requestId===t&&u()},u=function(){window.clearTimeout(d),xn.webRequest.onBeforeSendHeaders.removeListener(a),xn.webRequest.onHeadersReceived.removeListener(o),xn.webRequest.onCompleted.removeListener(l),xn.webRequest.onErrorOccurred.removeListener(l)},d=window.setTimeout(u,12e4);xn.webRequest.onCompleted.addListener(l,{urls:["<all_urls>"],types:["xmlhttprequest"]}),xn.webRequest.onErrorOccurred.addListener(l,{urls:["<all_urls>"],types:["xmlhttprequest"]})}}({url:e.url,origin:e.origin,referrer:e.referrer,tabId:t.tab.id,token:e.token});if("removeContentRequestListener"===e.id)await async function({ruleId:e}={}){gt.tn&&(await xn.declarativeNetRequest.updateSessionRules({removeRuleIds:[e]}),await xn.alarms.clear(`delete-net-request-session-rule_${e}`))}({ruleId:e.ruleId});else{if("fetchImage"===e.id){const t=await Xt(e.url),n=t&&await(0,ft.GW)(t);return Promise.resolve(n)}if("notification"===e.id)Ot({message:e.message,messageId:e.messageId,title:e.title,type:e.type});else if("routeMessage"===e.id){const n=e.message;e.setSenderTabId&&(n.senderTabId=t.tab.id),e.setSenderFrameId&&(n.senderFrameId=t.frameId);const r=[e.messageTabId?e.messageTabId:t.tab.id,n];e.hasOwnProperty("messageFrameId")&&r.push({frameId:e.messageFrameId}),xn.tabs.sendMessage(...r)}else{if("sendNativeMessage"===e.id){const t=await xn.runtime.sendNativeMessage("application.id",e.message);return Promise.resolve({response:t})}if("getPlatform"===e.id)return(0,ft.uo)();if("storageRequest"===e.id){const n=await vn.getStorageItem({storageId:e.storageId,saveReceipt:e.saveReceipt});if(n){if(e.asyncResponse)return Promise.resolve(n);xn.tabs.sendMessage(t.tab.id,{id:"storageResponse",storageItem:n},{frameId:t.frameId})}}else if("storageReceipt"===e.id)for(const t of e.storageIds)await vn.saveStorageItemReceipt({storageId:t});else if("taskRequest"===e.id){const e=await vn.getTaskRegistryItem({tabId:t.tab.id});if(e&&Date.now()-e.addTime<6e5){const n=await vn.getStorageItem({storageId:e.taskId});n&&n.search.isExec&&async function(e,t,n){["bing"].includes(t)&&await(0,ft.$u)({files:[`/src/engines/css/${t}.css`],tabId:e}),await(0,ft.HG)({func:e=>self.taskId=e,args:[n],code:`self.taskId = '${n}'`,tabId:e}),await(0,ft.HG)({files:["/src/commons-engine/script.js"],tabId:e}),await(0,ft.HG)({files:[`/src/engines/${t}/script.js`],tabId:e})}(t.tab.id,n.search.engine,e.taskId)}}else if("optionChange"===e.id)await async function(){await qn()}();else if("searchImage"===e.id){const{session:t,search:n,image:r}=e;"image"===n.assetType&&(r.imageBlob=(0,ft.aU)(r.imageDataUrl));try{let e;return"google"===n.engine?e=await async function({session:e,search:t,image:n}={}){const r=new FormData;r.append("encoded_image",n.imageBlob,n.imageFilename),r.append("image_url",""),r.append("sbisrc",kt);const i=await fetch("https://www.google.com/searchbyimage/upload",{referrer:"",mode:"cors",method:"POST",body:r});let a;if(200===i.status)a=i.url;else{if(!n.imageUrl)throw new Error(`API response: ${i.status}, ${await i.text()}`);a="https:www.google.com/searchbyimage?sbisrc=cr_1_5_2&image_url="+encodeURIComponent(n.imageUrl)}return e.options.localGoogle||(a=a.replace(/(.*google\.)[a-zA-Z0-9_\-.]+(\/.*)/,"$1com$2&gws_rd=cr&gl=US")),a}({session:t,search:n,image:r}):"pinterest"===n.engine&&(e=await async function({session:e,search:t,image:n}={}){const r=new FormData;r.append("image",n.imageBlob,n.imageFilename),r.append("x","0"),r.append("y","0"),r.append("w","1"),r.append("h","1"),r.append("base_scheme","https");const i=await fetch("https://api.pinterest.com/v3/visual_search/extension/image/",{referrer:"",mode:"cors",method:"PUT",body:r}),a=await i.json();if(200!==i.status||"success"!==a.status||!a.data||!a.data.length)throw new Error("search failed");return a.data.map((e=>({page:`https://pinterest.com/pin/${e.id}/`,image:e.image_large_url,text:e.description})))}({session:t,search:n,image:r})),Promise.resolve({data:e})}catch(e){return Promise.resolve({error:e.toString()})}}else if("showPage"===e.id)await Dt({url:e.url});else{if("setupTab"===e.id)return async function(e,t){const n={};for(const r of t)"setUserAgent"===r.id?(await Pn({tabId:e.tab.id,tabUrl:r.tabUrl,userAgent:r.userAgent,beaconToken:r.beaconToken}),n[r.id]=""):"addTask"===r.id&&(await vn.addTaskRegistryItem({taskId:r.taskId,tabId:e.tab.id}),n[r.id]="");return n}(t,e.steps);if("executeScript"===e.id){const n=e.params;return e.setSenderTabId&&(n.tabId=t.tab.id),e.setSenderFrameId&&(n.frameIds=[t.frameId]),n.func&&(n.func=(0,nn.y)(n.func)),(0,ft.HG)(n)}}}}}}async function qn(){const e=[$n];await async function(){if(await(0,ft.m0)()){if("samsung"===gt.Dm)return!0}else if(Tt.contextMenus)return!0;return!1}()&&e.push(Fn),await _n.addAll(e)}async function Vn({event:e=""}={}){const t=await async function({event:e=""}={}){Ut||(Ut=async function(){const e={install:!1,update:!1,session:!1,setupInstance:!1,setupSession:!1},{storageVersion:t,appVersion:n}=await Tt.storage.local.get(["storageVersion","appVersion"]);return t||(e.install=!0),t===gt.QB.local&&n===gt.CU||(e.update=!0),gt.tn&&await async function(){const e=Tt.extension.inIncognitoContext,t=e?"privateSession":"session",n=(await Tt.storage.session.get(t))[t];if(n||await Tt.storage.session.set({[t]:!0}),e)try{if(!await self.caches.has(t))return await self.caches.open(t),!0}catch(e){return!0}if(!n)return!0}()&&(e.session=!0),(e.install||e.update)&&(e.setupInstance=!0),!e.session&&gt.tn||(e.setupSession=!0),e}(),Ut.events=[]),e&&Ut.events.push(e);const t=await Ut;return Ut.events.includes("install")&&(t.setupInstance=!0),Ut.events.includes("startup")&&(t.setupSession=!0),t}({event:e});t.setupInstance&&await(0,ft.Jh)("setupInstance",(async()=>{await(0,z.XL)()||await V({data:t}),["chrome","edge","opera","samsung"].includes(gt.Dm)&&await Pt(),t.update&&await async function(){await z.Ay.set({appVersion:gt.CU})}()})),t.setupSession&&await(0,ft.Jh)("setupSession",(async()=>{gt.tn&&!await(0,z.XL)({area:"session"})&&await V({area:"session",silent:!0}),["samsung"].includes(gt.Dm)&&!t.setupInstance&&await Pt({activeTab:!0}),await qn(),await vn.cleanupRegistry()}))}xn.contextMenus&&xn.contextMenus.onClicked.addListener((async function(e,t){"samsung"===gt.Dm&&await(0,ft.kL)({tab:t})&&(t=await xn.tabs.get(t.id));const[n,r]=e.menuItemId.split("_"),i={sessionOrigin:"context",sessionType:n,sourceTabId:t.id,sourceTabIndex:t.index,sourceFrameId:void 0!==e.frameId?e.frameId:0};"search"===n&&(i.engine=r);const a=await Mt(i);if("view"===n)if(await Ct({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"}))await Nn(a);else{let t;const n=Qt(e);n&&(t=await Zt(n,{session:a})),t?await Bn(a,t):await Ot({messageId:"error_scriptsNotAllowed"})}else if("share"===n)await Ct({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"})?await Nn(a):await Ot({messageId:"error_scriptsNotAllowed"});else if("search"===n)if("capture"===a.searchMode)await Ct({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"})?await Rn({session:a},"capture"):await Ot({messageId:"error_scriptsNotAllowed"});else if(await Ct({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"}))await Nn(a);else{let t;const n=Qt(e);n&&(t=await Zt(n,{session:a})),t?await Mn(a,t):await Ot({messageId:"error_scriptsNotAllowed"})}})),gt.tn?xn.action.onClicked.addListener(Un):xn.browserAction.onClicked.addListener(Un),xn.runtime.onMessage.addListener((function(e,t,n){return function(e,t){return"safari"===gt.Dm?(e.then((function(e){void 0===e&&(e=null),t(e)})),!0):e}(async function({request:e,sender:t,requestHandler:n,messagePortProvider:r}={}){if(e.transfer?.type)return;if(t.url===self.location.href)return;"samsung"===gt.Dm&&(/^internet-extension:\/\/.*\/src\/action\/index.html/.test(t.tab?.url)&&(t.tab=null),await(0,ft.kL)({tab:t.tab})&&(t.tab=await Tt.tabs.get(t.tab.id)));const i=e.transfer;if(!i)return n(e,t);{const a=i.transferId,s="function"==typeof t.disconnect;let o;if(s)o=t;else if(i.openConnection){o=t.tab?Tt.tabs.connect(t.tab.id,{name:a,frameId:t.frameId}):Tt.runtime.connect({name:a});const e=en({port:o,checkMessage:function(e){if(e.transfer?.id===a&&"connection"===e.transfer.type&&e.transfer.complete)return!0}});await e}else o=await r(a);i.transferMessage&&(e=await new Promise(((e,t)=>{const n=[],r=function(t){t.transfer?.id===a&&"chunkedMessage"===t.transfer?.type&&(t.transfer.complete?(i(),e(JSON.parse(n.join("")))):n.push(t.transfer.data))},i=function({throwError:e=!1}={}){self.clearTimeout(c),o.onDisconnect.removeListener(s),o.onMessage.removeListener(r),e&&t()},s=function(){i({throwError:!0})};o.onDisconnect.addListener(s);const c=self.setTimeout(s,12e4);o.onMessage.addListener(r),o.postMessage({transfer:{type:"chunkedMessage",id:a}})})),s&&o.postMessage({transfer:{type:"message",complete:!0,id:a}}));let c=await n(e,t);if(!s){if(!i.transferResponse)return c;void 0===c&&(c=null);try{o.postMessage({transfer:{type:"response",data:c,id:a}})}catch(e){const t=tn(),n=JSON.stringify(c);for(const e of(0,ft.bK)(n,t))o.postMessage({transfer:{type:"chunkedResponse",data:e,id:a}});o.postMessage({transfer:{type:"chunkedResponse",complete:!0,id:a}})}}}}({request:e,sender:t,requestHandler:zn,messagePortProvider:Wn}),n)})),xn.runtime.onConnect.addListener((function(e){!async function(e){if(e.name?.startsWith("message")){const t=e.name.split("_")[1];await async function(e,t){await vn.addStorageItem(t,{receipts:{expected:1,received:0},expiryTime:1,area:"memory",token:e})}(t,e),e.postMessage({transfer:{type:"connection",complete:!0,id:t}})}}(e)})),xn.storage.onChanged.addListener((async function(e,t){if(await(0,z.XL)({area:gt.tn?"session":"local"})){const t=(0,z.eK)("menuChangeEvent",{name:"private",active:xn.extension.inIncognitoContext});e[t]?.newValue&&await _n.add(In)}})),xn.alarms.onAlarm.addListener((async function({name:e}){if(e.startsWith("delete-storage-item")){const t=e.split("_")[1];await vn.deleteStorageItem({storageId:t})}else if(e.startsWith("delete-net-request-session-rule")){const t=(0,ft.s_)(e.split("_")[1]);await xn.declarativeNetRequest.updateSessionRules({removeRuleIds:[t]})}})),xn.runtime.onInstalled.addListener((async function(e){["install","update"].includes(e.reason)&&await Vn({event:"install"})})),xn.runtime.onStartup.addListener((async function(){await Vn({event:"startup"})})),Vn()})()})();